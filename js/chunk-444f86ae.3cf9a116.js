(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-444f86ae"],{"35b1":function(t,e,a){"use strict";a("48aa")},"48aa":function(t,e,a){},5620:function(t,e,a){},7795:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-overlay",{attrs:{value:t.set_overlay}},[r("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),r("div",{staticClass:"pt-6 text_color"},[t._v(t._s(t.$t("newUi.adminViewform.editPro")))]),r("v-container",{staticClass:"mobileview padding_view"},[r("v-text-field",{attrs:{label:t.$t("newUi.addItem.itemName"),autocomplete:"off",title:t.$t(""),required:""},model:{value:t.Name_mob,callback:function(e){t.Name_mob=e},expression:"Name_mob"}}),r("v-textarea",{attrs:{label:t.$t("newUi.addItem.enterDesc"),autocomplete:"off",title:t.$t(""),required:"",name:"text",row:"2","row-height":"20"},model:{value:t.payload.desc,callback:function(e){t.$set(t.payload,"desc",e)},expression:"payload.desc"}}),r("v-text-field",{attrs:{prefix:this.$store.state.currentForm.symbol,label:t.$t("newUi.addItem.price"),title:t.$t(""),autocomplete:"off",min:"0",required:"",type:"number"},model:{value:t.payload.price,callback:function(e){t.$set(t.payload,"price",e)},expression:"payload.price"}}),r("v-select",{attrs:{label:t.$t("newUi.addItem.category"),value:t.edit_category,items:t.category_name,required:""},on:{change:function(e){return t.setCategory(e)}}}),r("v-avatar",{staticClass:"ma-3 cursor-pointer mobileview edit-form-img",attrs:{size:"100",tile:""}},[t.payload.imageurl&&!t.isEditable?r("v-img",{attrs:{src:t.addproduct_image}}):t._e(),t.payload.imageurl&&t.isEditable?r("v-btn",{on:{click:function(e){return t.handleRemoveImage(t.payload)}}},[r("img",{attrs:{src:a("e51f")}})]):t._e(),!t.payload.imageurl&&t.isEditable?r("v-card",{staticClass:"text-center mx-auto border",staticStyle:{"padding-top":"20px",height:"100px",width:"100px"},attrs:{flat:"",tile:""},on:{click:function(e){return t.uploading("mobile")}}},[r("img",{staticClass:"cursor-pointer plus_icon",attrs:{src:a("1c75"),alt:""}}),r("div",{staticClass:"test-center text_color"},[t._v("\n          "+t._s(t.$t("newUi.addItem.upload"))+"\n        ")])]):t._e(),t.payload.imageurl&&t.isEditable?r("v-img",{attrs:{src:t.payload.imageurl},on:{click:function(e){return t.uploading("mobile")}}}):t._e()],1),r("div",{staticClass:"mobile_data mb-4"},[r("v-btn",{staticClass:"button_padding",attrs:{color:"#8AB26D"},on:{click:function(e){return e.preventDefault(),t.add_product_submit(t.payload.pos,t.Name_mob,t.previous_name_mob)}}},[t._v("\n        "+t._s(t.$t("newUi.editForm.save"))+"\n      ")]),r("v-btn",{staticClass:"button_padding desktopView",attrs:{color:"#8AB26D"},on:{click:function(e){return e.preventDefault(),t.cancel.apply(null,arguments)}}},[t._v("\n        "+t._s(t.$t("newUi.editForm.cancel"))+"\n      ")])],1)],1),r("v-container",{staticClass:"row desktopView padding_view"},[r("div",{staticClass:"col"},[r("v-text-field",{attrs:{label:t.$t("newUi.addItem.itemName"),autocomplete:"off",title:t.$t(""),required:""},model:{value:t.Name,callback:function(e){t.Name=e},expression:"Name"}}),r("v-textarea",{attrs:{label:t.$t("newUi.addItem.enterDesc"),title:t.$t(""),required:"",name:"text",row:"2","row-height":"20",autocomplete:"off"},model:{value:t.payload.desc,callback:function(e){t.$set(t.payload,"desc",e)},expression:"payload.desc"}}),r("v-text-field",{attrs:{prefix:this.$store.state.currentForm.symbol,label:t.$t("newUi.addItem.price"),title:t.$t(""),autocomplete:"off",required:"",min:"0",type:"number"},model:{value:t.payload.price,callback:function(e){t.$set(t.payload,"price",e)},expression:"payload.price"}}),r("v-select",{attrs:{label:t.$t("newUi.addItem.category"),value:t.edit_category,items:t.category_name,required:""},on:{change:function(e){return t.setCategory(e)}}})],1),r("v-avatar",{staticClass:"ma-3 cursor-pointer desktopView edit-form-img",attrs:{size:"100",tile:""}},[t.payload.imageurl&&!t.isEditable?r("v-img",{attrs:{src:t.addproduct_image}}):t._e(),t.payload.imageurl&&t.isEditable?r("v-btn",{on:{click:function(e){return t.handleRemoveImage(t.payload)}}},[r("img",{attrs:{src:a("e51f")}})]):t._e(),!t.payload.imageurl&&t.isEditable?r("v-card",{staticClass:"text-center mx-auto",staticStyle:{"padding-top":"20px",height:"100px",width:"100px",background:"#f8faf7"},attrs:{flat:"",tile:""},on:{click:function(e){return t.uploading("desktop")}}},[r("img",{staticClass:"cursor-pointer plus_icon",attrs:{src:a("1c75"),alt:""}}),r("div",{staticClass:"test-center text_color"},[t._v("\n          "+t._s(t.$t("newUi.addItem.upload"))+"\n        ")])]):t._e(),t.payload.imageurl&&t.isEditable?r("v-img",{attrs:{src:t.payload.imageurl},on:{click:function(e){return t.uploading("desktop")}}}):t._e()],1)],1),r("div",{staticClass:"desktopView mb-4"},[r("v-btn",{staticClass:"button_padding",attrs:{color:"#8AB26D"},on:{click:function(e){return e.preventDefault(),t.add_product_submit(t.payload.pos,t.Name,t.previous_name)}}},[t._v("\n      "+t._s(t.$t("newUi.editForm.save"))+"\n    ")]),r("v-btn",{staticClass:"button_padding desktopView",attrs:{color:"#8AB26D"},on:{click:function(e){return e.preventDefault(),t.cancel.apply(null,arguments)}}},[t._v("\n      "+t._s(t.$t("newUi.editForm.cancel"))+"\n    ")])],1),r("div",{staticClass:"modal",attrs:{id:"imageCroper"}},[r("div",{staticClass:"modal-content",staticStyle:{display:"flex"},style:t.$vuetify.breakpoint.height>450?{"justify-content":"center"}:{"justify-content":"start"}},[r("div",{staticStyle:{}},[r("vue-croppie",{ref:"croppieRef",attrs:{enableOrientation:!0,enableResize:!1,boundary:t.$vuetify.breakpoint.height>450?{width:300,height:300}:{width:250,height:250},viewport:{width:240,height:240}},on:{result:t.result,update:t.update}}),r("div",{staticClass:"col d-flex justify-space-between text-center text-white",staticStyle:{background:"black",position:"absolute",bottom:"0"}},[r("div",{staticClass:"text-center pt-3 cursor-pointer",on:{click:function(e){return t.modalToggle("none")}}},[r("i",{staticClass:"bi bi-chevron-left"}),t._v(t._s(t.$t("newUi.addItem.back"))+"\n          ")]),r("img",{staticClass:"cursor-pointer pt-1",attrs:{src:a("7e6e"),alt:""},on:{click:function(e){return t.rotate(-90)}}}),r("div",{staticClass:"crop_icon mt-2",on:{click:function(e){t.crop(),t.cropDialog=!1}}},[r("img",{staticClass:"cursor-pointer pt-1",attrs:{src:a("a321"),alt:""}})])])],1)])])],1)},o=[],i=(a("a481"),a("28a5"),a("ac6a"),a("7f7f"),a("9883")),s=a("a8d7"),n=a("07a4"),l=a("9225"),c={props:["payload","current_form_data"],data:function(){var t=[l["a"].t("newUi.addItem.noCate")];return{sheet:!1,add_category:!1,name:"",description:"",addproduct_category:"",addproduct_desc:"",addproduct_name:"",addproduct_price:0,addproduct_image:"",edit_category:this.payload.category?this.payload.category:l["a"].t("newUi.addItem.noCate"),cropped:null,cropDialog:!1,cropDialog2:!1,croppieElm:null,category_name:t,set_overlay:!1,Name:this.payload.name,Name_mob:this.payload.name,previous_name:this.payload.name,previous_name_mob:this.payload.name}},mounted:function(){Object(s["s"])(),this.category_names(),this.set_product_item_null()},computed:{type:function(){return"Ordering form"==this.payload.type?l["a"].t("common.typeOrderForm"):l["a"].t("common.typeCatelogue")},isEditable:function(){return"viewform"!==this.$route.name}},methods:{handleRemoveImage:function(t){console.log("handleRemoveImage",t),t.imageurl="",console.log("handleRemoveImage product",t),console.log("handleRemoveImage this.$store.state",this.$store.state)},setCategory:function(t){this.addproduct_category=t},category_names:function(){var t=this,e=this.$store.state.currentForm.catalogue.filter((function(t){return"category"==t.type}));e.forEach((function(e){t.category_name.push(e.name)}))},add_catag:function(t,e){var a=this.$store.state.currentForm.catalogue.maxlength;if(a){var r=this.$store.state.currentForm.catalogue.maxlength+1;a=r,this.$store.dispatch("setMaxLength",r)}else a=1,this.$store.dispatch("setMaxLength",1);this.$store.state.currentForm.catalogue.push({pos:a,type:"category",name:t,description:e})},additem:function(t,e,a,r,o){var i=this.$store.state.currentForm.catalogue.maxlength;if(i){var s=this.$store.state.currentForm.catalogue.maxlength+1;i=s,this.$store.dispatch("setMaxLength",s)}else i=1,this.$store.dispatch("setMaxLength",1);this.$store.state.currentForm.catalogue.push({pos:i,type:"item",name:t,desc:e,imageurl:o,price:a,qtty:0,category:r})},add_product_more:function(){this.saveCurrentForm(),this.set_product_item_null(),this.sheet=!0},add_product_submit:function(t,e,a){if(console.log("edit form "),this.edit_category==l["a"].t("newUi.addItem.noCate")&&(this.payload.category=""),""!=this.addproduct_category&&(this.addproduct_category==l["a"].t("newUi.addItem.noCate")?this.payload.category="":""!=this.addproduct_category&&this.addproduct_category!=l["a"].t("newUi.addItem.noCate")&&(this.payload.category=this.addproduct_category)),null==e||0==e||""==e)alert(l["a"].t("alertText.itemNameAlert"));else if(e.length>100)alert(l["a"].t("alertText.itemMax"));else if(parseFloat(this.payload.price)<0||!parseFloat(this.payload.price)||""==this.payload.price)alert(l["a"].t("alertText.validatePriceAlert"));else if(parseFloat(this.payload.price)>999999)alert(l["a"].t("alertText.pricelimit"));else{var r=!1,o=this.payload.price.split(".")[1];o&&o.length>2&&(r=!0);var s=!1;if(this.$store.state.currentForm.catalogue.map((function(t){"item"==t.type&&a!=e&&t.name.toLowerCase().replace(/ /g,"")===e.toLowerCase().replace(/ /g,"")&&(s=!0)})),s)alert(l["a"].t("alertText.productExist"));else if(r)alert(l["a"].t("alertText.roundOffDigits"));else{console.log("add_product_submit else"),this.payload.name=e;for(var n=this.$store.state.currentForm,c=0;c<n.catalogue.length;c++)n.catalogue[c].pos==t&&(this.$store.state.currentForm.catalogue[c]=this.payload,i["a"].currentRoute.fullPath=="/admin/viewform/"+this.$store.state.currentForm.pos?this.saveCurrentForm():this.saveCurrentFormRoute())}}},set_product_item_null:function(){this.addproduct_category="",this.addproduct_desc="",this.addproduct_image="",this.addproduct_name="",this.addproduct_price=""},checkLength:function(t){t.length>100?(this.payload.name=t.slice(0,-1),alert(l["a"].t("alertText.itemMax")),t=t.slice(0,-1)):t.length<=100&&(this.payload.name=t)},set_category_item_null:function(){this.name="",this.description=""},submit:function(){this.sheet=!0},add_category_open:function(){this.add_category=!0},add_category_submit:function(t,e){this.add_catag(t,e),this.saveCurrentForm(),this.add_category=!1,i["a"].push("/admin/viewform/"+this.$store.state.currentForm.pos)},cancel:function(){i["a"].push("/admin/viewform/"+this.$store.state.currentForm.pos)},add_category_more:function(t,e){this.add_catag(t,e),this.saveCurrentForm(),this.set_category_item_null(),this.add_category=!0},saveCurrentFormRoute:function(){var t=this;console.log("saveCurrentFormRoute");var e=this.$store.state.currentForm.phone;if(null==this.payload.name||0==this.payload.name.length||""==this.payload.name)alert(l["a"].t("alertText.validateNameAlert",{type:this.payload.type}));else if(0==e.length)alert(l["a"].t("alertText.validatePhoneAlert"));else if(parseFloat(this.payload.price)<0||!parseFloat(this.payload.price)||""==this.payload.price)alert(l["a"].t("alertText.validatePriceAlert"));else{this.$store.dispatch("setOverlay",!0),this.set_overlay=!0;var a=this;Object(s["m"])(this.$store.state.profile.uid,this.$store.state.currentFormPos,JSON.stringify(this.$store.state.currentForm),(function(t){t?(alert(l["a"].t("alertText.saveFailed")),n["a"].dispatch("setOverlay",!1),a.set_overlay=!1):(n["a"].dispatch("setOverlay",!1),a.set_overlay=!1)})).then((function(){Object(s["p"])((function(t){console.log(t)}),t.$store.state),i["a"].push("/admin/viewform/"+t.$store.state.currentForm.pos)}))}},saveCurrentForm:function(){console.log("saveCurrentForm");var t=this.$store.state.currentForm.phone;if(null==this.payload.name||0==this.payload.name.length||""==this.payload.name)alert(l["a"].t("alertText.validateNameAlert",{type:this.payload.type}));else if(0==t.length)alert(l["a"].t("alertText.validatePhoneAlert"));else if(parseFloat(this.payload.price)<0||!parseFloat(this.payload.price)||""==this.payload.price)alert(l["a"].t("alertText.validatePriceAlert"));else{this.$store.dispatch("setOverlay",!0),this.set_overlay=!0;var e=this;Object(s["m"])(this.$store.state.profile.uid,this.$store.state.currentFormPos,JSON.stringify(this.$store.state.currentForm),(function(t){t?(alert(l["a"].t("alertText.saveFailed")),n["a"].dispatch("setOverlay",!1),e.set_overlay=!1):(n["a"].dispatch("setOverlay",!1),e.set_overlay=!1,i["a"].go())})),console.log("this.$store.state.currentForm",this.$store.state.currentForm),Object(s["p"])((function(t){console.log(t)}),this.$store.state)}},modalToggle:function(t){var e=document.getElementById("imageCroper");e.style.display=t,window.onclick=function(t){t.target==e&&(e.style.display="none")}},crop:function(){var t={type:"base64",format:"jpeg",circle:!1},e=this,a=this.$store.state.profile.uid;e.set_overlay=!0,this.$refs.croppieRef.result(t).then((function(t){e.cropped=t,e.modalToggle("none"),Object(s["n"])(a,(new Date).getTime(),t,(function(t,a){t?alert(l["a"].t("alertText.uploadFail")):e.payload.imageurl=a,setTimeout((function(){e.set_overlay=!1}),1500)}))}))},crop1:function(){var t=this,e={format:"jpeg",circle:!0};this.$refs.croppieRef.result(e,(function(e){t.cropped=e}))},result:function(t){this.cropped=t},update:function(t){this.d=t},rotate:function(t){this.$refs.croppieRef.rotate(t)},uploading:function(t){var e=document.createElement("input"),a=this,r=this;return e.setAttribute("type","file"),e.addEventListener("change",(function(){("mobile"==t||"desktop"==t)&&r.modalToggle("block"),setTimeout((function(){a.$refs.croppieRef.bind({url:window.URL.createObjectURL(e.files[0]),zoom:.8})}),200)})),e.click(),!1}}},d=c,u=(a("b7f0"),a("2877")),p=Object(u["a"])(d,r,o,!1,null,null,null);e["a"]=p.exports},b7f0:function(t,e,a){"use strict";a("5620")},e51f:function(t,e,a){t.exports=a.p+"img/edit_form_remove.b459198a.svg"},f90f:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"pt-8 text_color"},[t._v(t._s(t.$t("newUi.adminViewform.editCat")))]),a("v-container",{staticClass:"padding_view desktop_section"},[a("v-text-field",{attrs:{label:t.$t("newUi.addCategory.name"),value:t.payload.name,title:t.$t(""),autocomplete:"off",required:""},on:{input:function(e){return t.categoryChange(e)}},model:{value:t.Name,callback:function(e){t.Name=e},expression:"Name"}}),a("div",{staticClass:"mobile_data desktop_section_button"},[a("v-btn",{staticClass:"button_padding cursor-pointer",attrs:{color:"#8AB26D"},on:{click:function(e){return e.preventDefault(),t.add_category_submit()}}},[t._v("\n        "+t._s(t.$t("newUi.editForm.save"))+"\n      ")]),a("v-btn",{staticClass:"button_padding desktopView cursor-pointer",attrs:{color:"#8AB26D"},on:{click:function(e){return e.preventDefault(),t.cancel.apply(null,arguments)}}},[t._v("\n        "+t._s(t.$t("newUi.editForm.cancel"))+"\n      ")])],1)],1)],1)},o=[],i=(a("a481"),a("7f7f"),a("9883")),s=a("a8d7"),n=a("07a4"),l=a("9225"),c={props:["payload"],data:function(){return{sheet:!1,add_category:!1,name:"",category_name:"",cat_flag:!1,cropped:null,cropDialog:!1,croppieElm:null,Name:this.payload.name,Previous_name:this.payload.name}},mounted:function(){Object(s["s"])()},computed:{type:function(){return"Ordering form"==this.payload.type?l["a"].t("common.typeOrderForm"):l["a"].t("common.typeCatelogue")}},methods:{categoryChange:function(t){this.cat_flag=!0,this.category_name=t},add_catag:function(){if(1==this.cat_flag&&""==this.category_name&&""!=this.payload.name)alert(l["a"].t("alertText.nameAlert"));else if(""==this.category_name)for(var t=this.$store.state.currentForm.catalogue,e=0;e<t.length;e++)t[e].pos==this.payload.pos&&(this.$store.state.currentForm.catalogue[e]=this.payload,i["a"].currentRoute.fullPath=="/admin/viewform/"+this.$store.state.currentForm.pos?this.saveCurrentForm():this.saveCurrentFormRoute());else if(""!=this.category_name){for(var a=this.$store.state.currentForm.catalogue,r=0;r<a.length;r++)a[r].category==this.payload.name&&(this.$store.state.currentForm.catalogue[r].category=this.category_name);for(var o=0;o<a.length;o++)a[o].pos==this.payload.pos&&(this.payload.name=this.category_name,this.$store.state.currentForm.catalogue[o]=this.payload);i["a"].currentRoute.fullPath=="/admin/viewform/"+this.$store.state.currentForm.pos?this.saveCurrentForm():this.saveCurrentFormRoute()}},set_category_item_null:function(){this.name=""},add_category_submit:function(){var t=this,e=!1;this.Name.length>25||this.category_name.length>25?alert(l["a"].t("alertText.catFormMax")):(this.$store.state.currentForm.catalogue.map((function(a){"category"==a.type&&t.Previous_name.toLowerCase().replace(/ /g,"")!=t.Name.toLowerCase().replace(/ /g,"")&&a.name.toLowerCase().replace(/ /g,"")===t.Name.toLowerCase().replace(/ /g,"")&&(e=!0)})),e?alert(l["a"].t("alertText.CategoryExists")):this.add_catag())},cancel:function(){i["a"].push("/admin/viewform/"+this.$store.state.currentForm.pos)},add_category_more:function(t){this.add_catag(t),this.saveCurrentForm(),this.set_category_item_null(),this.add_category=!0},saveCurrentFormRoute:function(){var t=this,e=this.$store.state.currentForm.shopname,a=this.$store.state.currentForm.phone;null!=e&&e&&""!=e?0==a.length?alert(l["a"].t("alertText.validatePhoneAlert")):(this.$store.dispatch("setOverlay",!0),Object(s["m"])(this.$store.state.profile.uid,this.$store.state.currentFormPos,JSON.stringify(this.$store.state.currentForm),(function(t){t?(alert(l["a"].t("alertText.saveFailed")),n["a"].dispatch("setOverlay",!1)):n["a"].dispatch("setOverlay",!1)})).then((function(){Object(s["p"])((function(t){console.log(t)}),t.$store.state),i["a"].push("/admin/viewform/"+t.$store.state.currentForm.pos)}))):alert(l["a"].t("alertText.validateNameAlert",{type:this.type}))},saveCurrentForm:function(){var t=this;console.log("saveCurrentForm edit category");var e=this.$store.state.currentForm.shopname,a=this.$store.state.currentForm.phone;null!=e&&e&&""!=e?0==a.length?alert(l["a"].t("alertText.validatePhoneAlert")):(this.$store.dispatch("setOverlay",!0),Object(s["m"])(this.$store.state.profile.uid,this.$store.state.currentFormPos,JSON.stringify(this.$store.state.currentForm),(function(t){t?(alert(l["a"].t("alertText.saveFailed")),n["a"].dispatch("setOverlay",!1)):(n["a"].dispatch("setOverlay",!1),i["a"].go())})).then((function(){Object(s["p"])((function(t){console.log(t)}),t.$store.state)}))):alert(l["a"].t("alertText.validateNameAlert",{type:this.type}))}}},d=c,u=(a("35b1"),a("2877")),p=Object(u["a"])(d,r,o,!1,null,null,null);e["a"]=p.exports}}]);
//# sourceMappingURL=chunk-444f86ae.3cf9a116.js.map