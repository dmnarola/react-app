(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27683f74"],{"2f21":function(t,e,a){"use strict";var n=a("79e5");t.exports=function(t,e){return!!t&&n((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"33ce":function(t,e,a){t.exports=a.p+"img/LogoDark.62d0fae8.png"},3846:function(t,e,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},"386d":function(t,e,a){"use strict";var n=a("cb7c"),i=a("83a1"),s=a("5f1b");a("214f")("search",1,(function(t,e,a,r){return[function(a){var n=t(this),i=void 0==a?void 0:a[e];return void 0!==i?i.call(a,n):new RegExp(a)[e](String(n))},function(t){var e=r(a,t,this);if(e.done)return e.value;var o=n(t),l=String(this),c=o.lastIndex;i(c,0)||(o.lastIndex=0);var d=s(o,l);return i(o.lastIndex,c)||(o.lastIndex=c),null===d?-1:d.index}]}))},"55dd":function(t,e,a){"use strict";var n=a("5ca1"),i=a("d8e8"),s=a("4bf8"),r=a("79e5"),o=[].sort,l=[1,2,3];n(n.P+n.F*(r((function(){l.sort(void 0)}))||!r((function(){l.sort(null)}))||!a("2f21")(o)),"Array",{sort:function(t){return void 0===t?o.call(s(this)):o.call(s(this),i(t))}})},"5a2f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("AdminHeader",{attrs:{headerName:t.$t("newUi.sideBarData.formsTitle"),view_form:""}}),a("v-overlay",{attrs:{value:t.set_overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("selectLocale",{staticStyle:{color:"#94b978","margin-top":"15px","margin-right":"15px"}})],1),a("orderManagementComponent")],1)},i=[],s=(a("8e6e"),a("ac6a"),a("456d"),a("386d"),a("ade3")),r=(a("28a5"),a("b54a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"padding_top shadow-none order-table-card"},[n("div",{staticClass:"d-flex-row mb-8 align-items-center npage-header",staticStyle:{padding:"0 2rem"}},[n("div",{staticClass:"d-flex-row",staticStyle:{flex:"0.7"}},[n("h3",{staticClass:"mb-0 h3-text"},[t._v(t._s(t.$t("newUi.OrderManagement.OMOrders")))]),n("v-icon",{staticStyle:{"margin-left":"1rem"},attrs:{"aria-hidden":"false",color:"success"},on:{click:function(e){return t.getInitialData()}}},[t._v("\n        mdi-cached\n      ")])],1),n("div",{staticClass:"search-field"},[n("v-text-field",{staticStyle:{flex:"0.4"},attrs:{"append-icon":"mdi-magnify",placeholder:this.placeHolderText(),"single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),n("div",{staticClass:"table-custom-wrapper",staticStyle:{padding:"0 2rem"}},[n("v-data-table",{staticClass:"elevation-1 order-tags",attrs:{headers:t.dataHeaders,loading:t.tableDataloading,"loading-text":this.TextLoading(),items:t.filteredItems,search:t.search,"single-expand":t.singleExpand,expanded:t.expanded,"item-key":"Order_id","show-expand":"","fixed-header":"","footer-props":{"items-per-page-text":this.productsPerPageText(),"items-per-page-options":[5,10,15,30,50,-1],"items-per-page-all-text":this.AllLabelFooter()}},on:{"update:expanded":function(e){t.expanded=e},"item-expanded":t.read},scopedSlots:t._u([{key:"item.Order_id",fn:function(e){var a=e.item;return[t._v("\n        "+t._s(a.Order_id)+"\n        "),a.isRead?t._e():n("span",{staticClass:"unread"})]}},{key:"item.total_amount",fn:function(e){var a=e.item;return[n("span",[t._v(t._s(a.priceWithCurrency))])]}},{key:"item.order_status",fn:function(e){var a=e.item;return[n("span",{staticStyle:{"font-weight":"bold"},style:{color:t.getColor(a.order_status)}},[t._v("\n          "+t._s(t.getStatus(a.order_status))+"\n          ")]),n("div",{staticClass:"status-badge",style:{background:t.getColor(a.order_status)}})]}},{key:"expanded-item",fn:function(e){var a=e.headers,i=e.item;return[n("td",{staticStyle:{padding:"20px",background:"rgb(245 245 245)"},attrs:{colspan:a.length}},[n("table",{staticClass:"inner-list"},[n("tr",[n("th",[t._v(t._s(t.$t("newUi.OrderManagement.OMSrNo")))]),n("th",{staticStyle:{"max-width":"400px","min-width":"350px"}},[t._v("\n                "+t._s(t.$t("newUi.OrderManagement.OMItem"))+"\n              ")]),n("th",[t._v(t._s(t.$t("newUi.OrderManagement.OMquantity")))]),n("th",[t._v(t._s(t.$t("newUi.OrderManagement.OMSubTotal")))])]),t._l(i.Items,(function(e,a){return n("tr",{key:a},[n("td",[t._v(t._s(a+1))]),n("td",{staticStyle:{"max-width":"400px","min-width":"350px"}},[t._v("\n                "+t._s(e.name)+" - "+t._s(e.description)+"\n              ")]),n("td",[t._v(t._s(e.qty))]),n("td",[t._v(t._s(i.symbol)+" "+t._s(e.sub_total))])])}))],2),"Pending"==i.order_status?n("div",{staticClass:"align-right"},[n("v-btn",{staticStyle:{"border-radius":"15px"},attrs:{color:"#E9505B",elevation:"2"},on:{click:function(e){return t.confirmation("reject",i)}}},[t._v("\n              "+t._s(t.$t("newUi.OrderManagement.OMRejectOrder")))]),n("v-btn",{staticStyle:{"margin-left":"2rem","border-radius":"15px"},attrs:{color:"#128C7E",elevation:"2"},on:{click:function(e){return t.confirmation("approve",i)}}},[t._v(t._s(t.$t("newUi.OrderManagement.OMConfirmOrder")))]),n("span",{staticStyle:{"margin-left":"2rem","font-size":"16px","font-weight":"600",position:"relative",top:"8px"}},[t._v(t._s(t.$t("newUi.OrderManagement.OMTotal"))+" "+t._s(i.symbol)+"\n              "+t._s(i.total_amount))])],1):t._e(),"In-Progress"==i.order_status?n("div",{staticClass:"align-right"},[n("v-btn",{staticStyle:{"border-radius":"15px"},attrs:{color:"#E9505B",elevation:"2"},on:{click:function(e){return t.confirmation("cancel",i)}}},[t._v(t._s(t.$t("newUi.OrderManagement.OMCancelOrder")))]),n("v-btn",{staticStyle:{"margin-left":"2rem","border-radius":"15px"},attrs:{color:"#128C7E",elevation:"2"},on:{click:function(e){return t.confirmation("complete",i)}}},[t._v(t._s(t.$t("newUi.OrderManagement.OMCompleteOrder")))]),n("span",{staticStyle:{"margin-left":"2rem","font-size":"16px","font-weight":"600",position:"relative",top:"8px"}},[t._v(t._s(t.$t("newUi.OrderManagement.OMTotal"))+" "+t._s(i.symbol)+"\n              "+t._s(i.total_amount))])],1):t._e(),"Completed"==i.order_status?n("div",{staticClass:"align-right"},[n("v-btn",{staticStyle:{"border-radius":"15px"},attrs:{color:"#E9505B",elevation:"2"},on:{click:function(e){return t.confirmation("return",i)}}},[t._v(t._s(t.$t("newUi.OrderManagement.OMReturnOrder")))]),n("span",{staticStyle:{"margin-left":"2rem","font-size":"16px","font-weight":"600",position:"relative",top:"8px"}},[t._v(t._s(t.$t("newUi.OrderManagement.OMTotal"))+" "+t._s(i.symbol)+"\n              "+t._s(i.total_amount))])],1):t._e(),"Cancelled"==i.order_status||"Returned"==i.order_status?n("div",{staticClass:"align-right"},[n("span",{staticStyle:{"margin-left":"2rem","font-size":"16px","font-weight":"600",position:"relative",top:"8px"}},[t._v(t._s(t.$t("newUi.OrderManagement.OMTotal"))+" "+t._s(i.symbol)+"\n              "+t._s(i.total_amount))])]):t._e()])]}},{key:"no-data",fn:function(){return[n("div",{staticClass:"no-orders"},[n("p",[t._v(t._s(t.$t("newUi.OrderManagement.OMNoOrder")))])])]},proxy:!0}],null,!0)}),[n("v-dialog",{attrs:{height:"50vh",width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.modalData.type?n("v-card",{staticStyle:{height:"350px",padding:"30px","text-align":"center"}},[n("v-btn",{staticClass:"close-btn",attrs:{ripple:!1},on:{click:function(e){t.dialog=!1}}},[n("img",{attrs:{src:a("bf37")}})]),n("div",{staticClass:"text-h5  lighten-2",staticStyle:{"justify-content":"center",color:"#8AB26D","font-weight":"bold"},domProps:{innerHTML:t._s(t.modalData.title)}}),n("v-card-text",{staticStyle:{"text-align":"center","margin-top":"-17px"}},[n("div",{staticStyle:{width:"400px","margin-top":"2rem","font-size":"16px","line-height":"1.6"},domProps:{innerHTML:t._s(t.modalData.message)}})]),n("div",{staticClass:"flex-center"},[n("div",{staticClass:"info-box d-flex-row",staticStyle:{"justify-content":"center"}},[n("div",{staticStyle:{"margin-top":"18px","margin-right":"15px",color:"#8AB26D"}},[n("v-icon",{staticStyle:{color:"#8AB26D"},attrs:{small:""}},[t._v("fas fa-info-circle")])],1),n("div",{staticStyle:{"text-align":"justify"}},[t._v("\n                "+t._s(t.$t("newUi.OrderManagement.OMinfo1"))+"\n              ")])])]),n("v-card-actions",{staticStyle:{"justify-content":"center"}},[n("v-spacer"),n("v-btn",{attrs:{color:"#E9505B",elevation:"2"},on:{click:function(e){t.dialog=!1}}},[t._v(t._s(t.$t("newUi.OrderManagement.OMCancel")))]),n("v-btn",{staticStyle:{"margin-left":"2rem"},attrs:{color:"#128C7E",elevation:"2",loading:t.loading&&"confirm"===t.indexClicked},on:{click:function(e){return t.updateStatus("confirm")}}},[t._v("\n              "+t._s(t.modalData.title))]),n("v-spacer")],1)],1):t._e()],1)]],2)])}),o=[],l=(a("7f7f"),a("6b54"),a("55dd"),a("a481"),a("bc3a")),c=a.n(l),d=a("a8d7"),u=a("9225"),m=a("c1df"),f=a.n(m),p={data:function(){return{expanded:[],getTotal:function(t){return t.Items.reduce((function(t,e){return t+ +e.price}),0)},singleExpand:!0,tableDataloading:!1,modalData:{},status:{Pending:1,"In-Progress":2,Completed:3,Cancelled:4,Returned:5,Rejected:6},info:[],loadingMsg:"Loading... Please wait",dialog:!1,search:"",indexClicked:void 0,loading:!1}},methods:{placeHolderText:function(){return u["a"].t("newUi.OrderManagement.OMsearchBy")},productsPerPageText:function(){return u["a"].t("newUi.OrderManagement.OMPagination")},AllLabelFooter:function(){return u["a"].t("newUi.OrderManagement.OMAllLabel")},TextLoading:function(){return u["a"].t("newUi.OrderManagement.OMLoading")},translateIdStatus:function(t,e,a){if("notAvailable"!=a){var n=t.replace("$$Order_id$$","*#"+e+"*");return n=n.replace("$$status$$",a),n}var i=t.replace("$$Order_id$$","*#"+e+"*");return i},confirmation:function(t,e){var a,n,i=e.Order_id;switch(this.dialog=!0,t){case"approve":n=u["a"].t("newUi.OrderManagement.OMConfirmOrder"),a=u["a"].t("newUi.OrderManagement.OMConfirmMessage");break;case"reject":n=u["a"].t("newUi.OrderManagement.OMRejectOrder"),a=u["a"].t("newUi.OrderManagement.OMRejectMessage");break;case"return":n=u["a"].t("newUi.OrderManagement.OMReturnOrder"),a=u["a"].t("newUi.OrderManagement.OMReturnMessage");break;case"cancel":n=u["a"].t("newUi.OrderManagement.OMCancelOrder"),a=u["a"].t("newUi.OrderManagement.OMCancelMessage");break;case"complete":n=u["a"].t("newUi.OrderManagement.OMCompleteOrder"),a=u["a"].t("newUi.OrderManagement.OMCompleteMessage");break}this.modalData={title:n,message:a,type:t,item:e,phone:e.phone_number.replace("-",""),url:"".concat("https://asia-south1-sellwell-prod.cloudfunctions.net/","fsdata/v1/orderStatus/Order/").concat(i)}},updateStatus:function(t){var e=this;this.loading=!0;var a=this.modalData,n=a.url,i=a.type;this.indexClicked=t;var s={"Content-Type":"application/json",Authorization:Object(d["f"])()},r={approve:"In-Progress",reject:"Cancelled",return:"Returned",cancel:"Cancelled",complete:"Completed"};c.a.patch(n,{order_status:r[i]},{headers:s}).then((function(){e.getInitialData(),e.loading=!1,e.dialog=!1,e.createWhatsappMessage(i)})).catch((function(t){console.log(t)}))},read:function(t){var e=t.item;if(!e.isRead){var a={"Content-Type":"application/json",Authorization:Object(d["f"])()},n=this;c.a.patch("".concat("https://asia-south1-sellwell-prod.cloudfunctions.net/","fsdata/v1/orderStatus/updateIsRead/").concat(e.Order_id),{isRead:!0},{headers:a}).then((function(){n.getInitialData()})).catch((function(t){console.log(t)}))}},getInitialData:function(){var t=this,e=this;this.tableDataloading=!0,c.a.get("".concat("https://asia-south1-sellwell-prod.cloudfunctions.net/","fsdata/v1/getOrders"),{headers:{"Content-Type":"application/json",Authorization:Object(d["f"])()}}).then((function(a){a.data.response.map((function(t){t.created=f()(t.created).format("YYYY-MM-DD HH:mm:ss"),t.paymentMethod=u["a"].t("newUi.OrderManagement.OMPayLater")})),a.data.response.sort((function(t,a){return e.status[t.order_status]-e.status[a.order_status]})),e.tableDataloading=!1,a.data.response.map((function(t){t.country_code&&(t.phone_number="".concat(t.country_code,"-").concat(t.phone_number),"R$"==t.symbol?(t.priceWithCurrency="".concat(t.symbol," ").concat(t.total_amount.toString().replace(".",",")),t.Items.map((function(t){var e=t.sub_total.toString();t.sub_total=e.replace(".",",")})),t.total_amount=t.total_amount.toString().replace(".",",")):t.priceWithCurrency="".concat(t.symbol," ").concat(t.total_amount))})),t.info=a.data.response}))},createWhatsappMessage:function(t){for(var e=this.modalData.phone,a={approve:u["a"].t("newUi.OrderManagement.OMconfirm2"),reject:u["a"].t("newUi.OrderManagement.OMreject2"),return:u["a"].t("newUi.OrderManagement.OMreturn2"),cancel:u["a"].t("newUi.OrderManagement.OMcancel2"),complete:u["a"].t("newUi.OrderManagement.OMcomplete2")},n=u["a"].t("newUi.OrderManagement.OMSuffixMsg"),i=this.translateIdStatus(u["a"].t("newUi.OrderManagement.OMmsg1"),this.modalData.item.Order_id,a[t]),s=0;s<this.modalData.item.Items.length;s++)i+="".concat(this.modalData.item.Items[s].qty," X ").concat(this.modalData.item.Items[s].name," X ").concat(this.modalData.item.Items[s].sub_total,"\n");i=i+"*"+u["a"].t("newUi.OrderManagement.OMhead3")+" *",i+="".concat(this.modalData.item.symbol," ").concat(this.modalData.item.total_amount," \n ").concat(n),"reject"==t?i=this.translateIdStatus(u["a"].t("newUi.OrderManagement.OMmsg2"),this.modalData.item.Order_id,a[t])+"\n ".concat(n):"complete"==t?i=this.translateIdStatus(u["a"].t("newUi.OrderManagement.OMmsg3"),this.modalData.item.Order_id,"notAvailable")+"\n ".concat(n):"cancel"==t?i=this.translateIdStatus(u["a"].t("newUi.OrderManagement.OMmsg4"),this.modalData.item.Order_id,"notAvailable")+"\n ".concat(n):"return"==t&&(i=this.translateIdStatus(u["a"].t("newUi.OrderManagement.OMmsg5"),this.modalData.item.Order_id,"notAvailable")+"\n ".concat(n));var r="https://wa.me/".concat(encodeURI(e),"/?text=").concat(encodeURIComponent(i));window.open(r,"_blank")},getColor:function(t){return"Cancelled"==t?"#999999":"In-Progress"==t?"#FFCE00":"Returned"==t?"#31333E":"Completed"==t?"#8AB26D":"#E9505B"},getStatus:function(t){return"Cancelled"==t?u["a"].t("newUi.OrderManagement.OMstatus2"):"In-Progress"==t?u["a"].t("newUi.OrderManagement.OMstatus1"):"Returned"==t?u["a"].t("newUi.OrderManagement.OMstatus3"):"Completed"==t?u["a"].t("newUi.OrderManagement.OMstatus4"):u["a"].t("newUi.OrderManagement.OMstatus7")}},mounted:function(){this.getInitialData()},watch:{locale:function(){this.getInitialData()}},computed:{locale:function(){return this.$store.state.locale},dataHeaders:function(){return[{text:u["a"].t("newUi.OrderManagement.OMhead1"),align:"start",value:"Order_id"},{text:u["a"].t("newUi.OrderManagement.OMhead2"),value:"phone_number"},{text:u["a"].t("newUi.OrderManagement.OMhead3"),value:"total_amount"},{text:u["a"].t("newUi.OrderManagement.OMhead4"),value:"paymentMethod"},{text:u["a"].t("newUi.OrderManagement.OMhead5"),value:"created"},{text:u["a"].t("newUi.OrderManagement.OMhead6"),value:"order_status"},{text:"",value:"data-table-expand"}]},filteredItems:function(){var t=this;return this.info.filter((function(e){return!t.search||e.Order_id.indexOf(t.search)>=0||e.phone_number.toString().indexOf(t.search)>=0}))}}},g=p,h=(a("6e6c"),a("2877")),v=Object(h["a"])(g,r,o,!1,null,null,null),_=v.exports,O=a("8f40"),b=a("9883"),w=a("2f62"),y=a("572f"),x=a("07a4");function M(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function C(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?M(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var k={data:function(){return{name:"",showMessage:!1,locale:"Deutsch",set_overlay:!1}},props:["forms","headerName"],components:{AdminHeader:O["a"],selectLocale:y["a"],orderManagementComponent:_},methods:{fetchData:function(t){if(t.profile.isSigned){var e=this;e.set_overlay=!0,Object(d["i"])(t.profile.uid,(function(){x["a"].dispatch("setOverlay",!1),e.set_overlay=!1}))}else b["a"].push("/")},createForm:function(){var t=this.getFreePos();-1!==t?(console.log(t),this.selectType((function(e){console.log("Creating form, type:"+e);var a="/admin/editform/"+t;console.log("newlink",a);var n={id:x["a"].state.profile.uid,pos:t,categs:["Ordering form","Catalogue"],shopname:"",shopdesc:"",type:e,catalogue:[],phone:"+91",amount:0,maxlength:0};Object(d["m"])(x["a"].state.profile.uid,t,JSON.stringify(n),(function(){b["a"].currentRoute.fullPath!=a&&b["a"].push("/admin/editform/"+t)}))}))):alert(u["a"].t("alertText.fiveForms"))},getFreePos:function(){for(var t=[],e=0;e<5;e++)t[e]=!1;for(var a=0;a<this.$store.state.forms.length;a++){var n,i=this.$store.state.forms[a].link;n=i.split("/")[3]?parseInt(i.split("/")[3]):parseInt(i.split("/")[2]),n>=0&&n<5&&(t[n]=!0)}for(var s=0;s<5;s++)if(!t[s])return s;return-1},selectType:function(t){console.log(this.$store.state),this.$store.dispatch("setCurCallback",t),console.log(this.$store.state.curcallback),this.$store.state.newformroute.newformdialog=!0,console.log("2"),x["a"].dispatch("setOverlay",!1)}},mounted:function(){var t=this.$store.state;Object(d["s"])(),this.fetchData(t)},computed:C(C({},Object(w["b"])({user:"user",state:"state"})),{},{search:function(){return this.$store.state.search},isNotification:function(){return this.$store.state.isNotificationMsg}}),watch:{$route:"fetchData"}},$=k,S=Object(h["a"])($,n,i,!1,null,null,null);e["default"]=S.exports},"63c0":function(t,e,a){t.exports=a.p+"img/delete_icon.3c1b0552.svg"},"653a":function(t,e,a){t.exports=a.p+"img/LogoGreen.980f73e9.png"},6712:function(t,e,a){t.exports=a.p+"img/edit_icon.a92ddd41.svg"},"6b54":function(t,e,a){"use strict";a("3846");var n=a("cb7c"),i=a("0bfb"),s=a("9e1e"),r="toString",o=/./[r],l=function(t){a("2aba")(RegExp.prototype,r,t,!0)};a("79e5")((function(){return"/a/b"!=o.call({source:"a",flags:"b"})}))?l((function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!s&&t instanceof RegExp?i.call(t):void 0)})):o.name!=r&&l((function(){return o.call(this)}))},"6e6c":function(t,e,a){"use strict";a("f8a4")},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"8f40":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.showAppBar&&t.$vuetify.breakpoint.xsOnly||t.$vuetify.breakpoint.smOnly?n("v-app-bar",{staticClass:"desktop_main",class:{desktop_main:t.windowWidth>576},staticStyle:{"background-color":"#fff"},attrs:{"clipped-left":"","clipped-right":"",flat:"",app:""}},[t.state.profile.isSigned?n("img",{staticStyle:{"font-size":"24px"},attrs:{src:a("e8ea"),alt:""},on:{click:function(e){e.stopPropagation(),t.close_sidebar=!t.close_sidebar}}}):t._e(),t.headerName&&""==t.view_form?n("span",{staticClass:"col justify-content-center header-text text-center pr-10"},[t._v(t._s(t.headerName)+"\n    ")]):t._e(),t.headerName&&1==t.view_form?n("span",{staticClass:"col justify-content-center header-text text-center mobileview pr-10",on:{click:function(e){return t.editform()}}},[t._v(t._s(t.headerName)+"\n      "),n("img",{staticClass:"cursor-pointer",staticStyle:{"background-color":"transparent","padding-left":"4px"},attrs:{src:a("6712"),alt:""}})]):t._e(),void 0!=t.delete_form?n("img",{staticClass:"icon_color cursor-pointer mobileview",staticStyle:{background:"transparent"},attrs:{src:a("63c0"),alt:""},on:{click:function(e){return t.deleteform()}}}):t._e()]):t._e(),n("v-bottom-sheet",{model:{value:t.delete_form_value,callback:function(e){t.delete_form_value=e},expression:"delete_form_value"}},[n("v-sheet",{staticClass:"text-center bottom_modal",attrs:{height:"200px"}},[n("div",{staticClass:"pt-8 text_color"},[t._v(t._s(t.$t("newUi.editForm.deleteForm")))]),n("v-container",[n("div",[t._v(t._s(t.$t("newUi.deleteForm.confirmDelete")))]),n("v-spacer",{staticStyle:{padding:"10px"}}),n("v-btn",{staticClass:"button_padding",attrs:{color:"#8AB26D"},on:{click:t.doCancelDelete}},[t._v(t._s(t.$t("common.cancelButton")))]),n("v-btn",{staticClass:"button_padding",attrs:{color:"#8AB26D"},on:{click:function(e){return t.doDeleteFormMobile(t.delete_form)}}},[t._v(t._s(t.$t("common.deleteButton")))])],1)],1)],1),t.showAppBar?n("v-navigation-drawer",{staticClass:"sideBar desktop_sidebar_background",attrs:{clipped:"",permanent:!t.$vuetify.breakpoint.xsOnly&&!t.$vuetify.breakpoint.smOnly,app:"",width:315}},[n("v-list",{attrs:{dense:"",nav:""}},[n("v-list-item",[n("img",{staticClass:"img-fluid",staticStyle:{left:"-15px",position:"absolute"},attrs:{src:a("653a"),width:"200",alt:"logo"}})]),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[n("div",{staticClass:"text-white padding-bottom-10"},[t._v("\n              "+t._s(t.$t("newUi.sideBarData.signedIn"))+"\n            ")]),n("div",{staticClass:"padding-bottom-10",staticStyle:{color:"#f8faf7"}},[t._v("\n              "+t._s(t.state.profile.name)+"\n            ")]),n("div",{staticClass:"cursor-pointer mt-2 heading_color",on:{click:t.logout}},[t._v("\n              "+t._s(t.$t("newUi.sideBarData.signedOut"))+"\n            ")])])],1)],1),n("router-link",{staticClass:"heading_color",attrs:{to:"/orderManagement",tag:"v-list-item-title"}},[n("v-list-item",{class:{hightlight_name:"/orderManagement"==t.$route.fullPath},attrs:{link:""},on:{click:t.handleNotification}},[null!==t.$store.state.isNotificationMsg?n("span",{staticClass:"unread"}):t._e(),n("v-list-item-content",[n("span",{staticClass:"heading_color"},[t._v(t._s(t.$t("newUi.OrderManagement.OMheading")))])])],1)],1),n("router-link",{staticClass:"heading_color",attrs:{to:"/admin",tag:"v-list-item-title"}},[n("v-list-item",{class:{hightlight_name:"/admin"==t.$route.fullPath},attrs:{link:""}},[n("v-list-item-content",{on:{click:t.handleNotification}},[n("span",{staticClass:"heading_color"},[t._v(t._s(t.$t("sideBar.menu.text2")))])])],1)],1),n("v-list-item",[n("span",{staticClass:"heading_color"},[t._v(t._s(t.$t("newUi.sideBarData.formsTitle")))])]),t._l(t.$store.state.forms,(function(e,a){return n("v-list-item",{key:a,class:{hightlight_name:t.$route.fullPath.includes("/admin/viewform/"+e.link.split("/")[3])},attrs:{link:""},on:{click:function(a){t.routeToViewForm(e.link.split("/")[3])}}},[n("v-list-item-content",{on:{click:t.handleNotification}},[n("v-list-item-title",{staticClass:"list_style"},[t._v(t._s(e.shopname))])],1)],1)})),n("v-list-item",[n("span",{staticClass:"heading_color"},[t._v(t._s(t.$t("sideBar.menu.text3")))])]),n("v-list-item",{class:{hightlight_name:t.$route.fullPath.includes("/admin/editform/"+t.$store.state.currentForm.pos)},attrs:{link:""},on:{click:function(e){return t.createoderform("Ordering form")}}},[n("v-list-item-content",{on:{click:t.handleNotification}},[n("v-list-item-title",{staticClass:"list_style"},[t._v("\n            "+t._s(t.$t("newUi.sideBarData.orderForm"))+"\n          ")])],1)],1),n("v-list-item",{class:{hightlight_name:t.$route.fullPath.includes("/admin/category_form/"+t.$store.state.currentForm.pos)},attrs:{link:""},on:{click:function(e){return t.createoderform("Catalogue")}}},[n("v-list-item-content",{on:{click:t.handleNotification}},[n("v-list-item-title",{staticClass:"list_style"},[t._v("\n            "+t._s(t.$t("newUi.sideBarData.catForm"))+"\n          ")])],1)],1),n("v-list-item",{attrs:{link:""}},[n("v-list-item-content",{staticClass:"heading_color"},[n("span",{staticClass:"heading_color",on:{click:t.homepage}},[t._v("\n            "+t._s(t.$t("newUi.sideBarData.gotoBecho"))+"\n          ")])])],1),n("v-list-item",{staticStyle:{margin:"20px 0px"},attrs:{link:""}},[n("v-list-item-content",{staticClass:"whatsapp_sidebar whatsapp_sidebar-extension"},[n("router-link",{staticClass:"heading_color d-flex ",staticStyle:{"align-items":"center"},attrs:{to:"/whatsappwidget",tag:"v-list-item-title"}},[n("img",{staticStyle:{"font-size":"24px"},attrs:{src:a("c799"),alt:""}}),n("span",{},[t._v("\n              "+t._s(t.$t("newUi.sideBarData.widgetButton"))+"\n            ")])])],1)],1),n("v-list-item",{staticStyle:{margin:"20px 0px"},attrs:{link:""}},[n("v-list-item-content",{staticClass:"whatsapp_sidebar whatsapp_sidebar-extension",staticStyle:{background:"#8AB26D"}},[n("router-link",{staticClass:"heading_color d-flex ",staticStyle:{"align-items":"center"},attrs:{to:"/guide",tag:"v-list-item-title"}},[n("img",{staticStyle:{"font-size":"24px"},attrs:{src:a("c799"),alt:""}}),n("span",{},[t._v("\n              "+t._s(t.$t("newUi.pluginGuide.sidebar"))+"\n            ")])])],1),n("br")],1)],2)],1):t._e(),t.showAppBar?n("v-navigation-drawer",{staticClass:"sideBar mobileview",attrs:{clipped:"",app:"",width:294},model:{value:t.close_sidebar,callback:function(e){t.close_sidebar=e},expression:"close_sidebar"}},[n("v-list",{attrs:{dense:"",nav:""}},[n("v-list-item",[n("img",{staticClass:"img-fluid",staticStyle:{left:"-30px",position:"absolute"},attrs:{src:a("33ce"),width:"200",alt:"logo"}})]),n("v-list-item",{staticStyle:{"background-color":"#f8faf7"}},[n("v-list-item-content",[n("v-list-item-title",[n("div",{staticClass:"normal signin-text"},[t._v("\n              "+t._s(t.$t("newUi.sideBarData.signedIn"))+"\n            ")]),n("div",{staticClass:"text_color user-text"},[t._v(t._s(t.state.profile.name))]),n("div",{staticClass:"cursor-pointer mt-3",on:{click:t.logout}},[t._v("\n              "+t._s(t.$t("newUi.sideBarData.signedOut"))+"\n            ")])])],1)],1),n("v-list-item",{attrs:{link:""},on:{click:t.handleNotification}},[null!==t.$store.state.isNotificationMsg?n("span",{staticClass:"unread"}):t._e(),n("v-list-item-content",[n("router-link",{attrs:{to:"/orderManagement",tag:"v-list-item-title"}},[t._v(t._s(t.$t("newUi.OrderManagement.OMheading")))])],1)],1),n("v-list-item",{attrs:{link:""}},[n("v-list-item-content",[n("router-link",{attrs:{to:"/admin",tag:"v-list-item-title"}},[t._v(t._s(t.$t("sideBar.menu.text2")))])],1)],1),n("v-list-item",{staticClass:"mobileview"},[n("span",{staticClass:"text_color"},[t._v(t._s(t.$t("newUi.sideBarData.formsTitle")))])]),t._l(t.$store.state.forms,(function(e,a){return n("v-list-item",{key:a,staticClass:"mobileview",attrs:{link:""}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"list_style_mobile",on:{click:function(a){t.routeToViewForm(e.link.split("/")[3])}}},[t._v(t._s(e.shopname))])],1)],1)})),n("v-list-item",{staticClass:"mobileview"},[n("span",{staticClass:"text_color"},[t._v(t._s(t.$t("sideBar.menu.text3")))])]),n("v-list-item",{staticClass:"mobileview",attrs:{link:""},on:{click:function(e){return t.createoderform("Ordering form")}}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"list_style_mobile"},[t._v("\n            "+t._s(t.$t("newUi.sideBarData.orderForm"))+"\n          ")])],1)],1),n("v-list-item",{staticClass:"mobileview",attrs:{link:""},on:{click:function(e){return t.createoderform("Catalogue")}}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"list_style_mobile"},[t._v("\n            "+t._s(t.$t("newUi.sideBarData.catForm"))+"\n          ")])],1)],1),n("v-list-item",{attrs:{link:""}},[n("v-list-item-content",[n("span",{staticClass:"homepage_link",on:{click:t.homepage}},[t._v("\n            "+t._s(t.$t("newUi.sideBarData.gotoBecho"))+"\n          ")])])],1),n("v-list-item",{attrs:{link:""}},[n("v-list-item-content",[n("router-link",{attrs:{to:"/whatsappwidget",tag:"v-list-item-title"}},[n("i",{staticClass:"bi bi-whatsapp",staticStyle:{"font-size":"24px",color:"green"}}),t._v("\n            "+t._s(t.$t("newUi.sideBarData.widgetButton"))+"\n          ")])],1)],1),n("v-list-item",{attrs:{link:""}},[n("v-list-item-content",[n("router-link",{attrs:{to:"/guide",tag:"v-list-item-title"}},[n("i",{staticClass:"bi bi-whatsapp",staticStyle:{"font-size":"24px",color:"#8AB26D"}}),t._v("\n            "+t._s(t.$t("newUi.pluginGuide.sidebar"))+"\n          ")])],1)],1),n("br")],2)],1):t._e(),n("v-dialog",{staticClass:"desktopView",attrs:{"content-class":"dialog_logout"},model:{value:t.form_logout_desktop,callback:function(e){t.form_logout_desktop=e},expression:"form_logout_desktop"}},[n("v-container",{staticClass:"1"},[n("div",{staticClass:"d-flex justify-end justify-content-end text_color",staticStyle:{"font-size":"20px"}},[n("span",{staticClass:"cursor-pointer",on:{click:t.closing_logout_desktop}},[t._v("x")])]),n("v-container",{staticClass:"text-center"},[n("div",{staticClass:"col",staticStyle:{"padding-top":"0px"}},[n("div",[n("p",{staticStyle:{"font-weight":"bolder"}},[t._v("\n              "+t._s(t.$t("newUi.sideBarData.logOutConfirm"))+"\n            ")]),n("p",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.logout_count>=2&&!this.$store.state.user.data.email,expression:"$store.state.logout_count>=2 && !this.$store.state.user.data.email ?true:false"}],staticStyle:{"margin-bottom":"0px !important"}},[t._v(t._s(t.$t("alertText.logoutAlert")))])])]),n("v-btn",{staticClass:"button_padding",attrs:{color:"#128c7e"},on:{click:t.confirmSignOut}},[t._v(t._s(t.$t("newUi.sideBarData.signedOut")))])],1)],1)],1)],1)},i=[],s=(a("8e6e"),a("ac6a"),a("456d"),a("7f7f"),a("ade3")),r=(a("b54a"),a("28a5"),a("2f62")),o=a("9883"),l=a("a8d7"),c=a("07a4"),d=a("9225");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={name:"AdminHeader",props:["headerName","view_form","delete_form"],mounted:function(){var t=this;Object(l["s"])(),this.$nextTick((function(){window.addEventListener("resize",t.onResize)})),Object(l["k"])().then((function(e){console.log("called"),t.$store.dispatch("setNotificationMsg",e.data.body)})).catch((function(t){console.log("err",t)}));var e=new BroadcastChannel("notification-channel");e.onmessage=function(e){e.data&&"SEND_NOTIFICATION"===e.data.type&&t.$store.dispatch("setNotificationMsg",e.data.payload)}},data:function(){return{delete_form_value:!1,windowWidth:"",close_sidebar:!1,form_logout_desktop:!1}},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)},methods:{homepage:function(){window.location.href="/"},logout:function(){this.form_logout_desktop=!0},confirmSignOut:function(){if(this.form_logout_desktop=!1,!this.$store.state.user.data.email){var t=new Date(this.$store.state.last_logout),e=new Date;t?t.getFullYear()<e.getFullYear()||t.getMonth()<e.getMonth()||t.getDate()<e.getDate()?(c["a"].dispatch("setLastLogout",e),c["a"].dispatch("setLogOutCount",1)):t.getDate()==e.getDate()&&t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()&&c["a"].dispatch("setLogOutCount",parseInt(this.$store.state.logout_count)+1):(c["a"].dispatch("setLastLogout",e),c["a"].dispatch("setLogOutCount",1))}this.$store.dispatch("logout")},startLogin:function(){this.$store.dispatch("startLogin")},closing_logout_desktop:function(){this.form_logout_desktop=!1},createWhatsAppWidget:function(){o["a"].push("/whatsappwidget")},editform:function(){o["a"].push("/editform/"+this.$store.state.currentForm.pos)},deleteform:function(){this.delete_form_value=!0},doDeleteFormMobile:function(t){this.delete_form_value=!1,this.deleteFormFile(t)},routeToViewForm:function(t){this.$store.dispatch("fileLoaded",!1),o["a"].push("/admin/viewform/"+t)},doCancelDelete:function(){this.delete_form_value=!1},deleteFormFile:function(t){var e=this.$store;console.log("storedata",e.state),this.$store.dispatch("setOverlay",!0);for(var a=0;a<this.$store.state.forms.length;a++)if(this.$store.state.forms[a].link.split("/")[3]===t){this.$store.state.forms.splice(a,1),Object(l["c"])((function(t){return console.log(t),0}),this.$store.state),Object(l["b"])(this.$store.state.profile.uid,t,(function(){e.dispatch("setOverlay",!1)}));break}o["a"].push("/admin")},onResize:function(){this.windowWidth=window.innerWidth},createoderform:function(t){var e=this.getFreePos();if(-1!==e){var a="Ordering form"==t?"/admin/editform/".concat(e):"/admin/category_form/".concat(e),n={id:c["a"].state.profile.uid,pos:e,categs:["Ordering form","Catalogue"],shopname:"",shopdesc:"",type:t,catalogue:[],phone:"",amount:0,maxlength:0};Object(l["m"])(c["a"].state.profile.uid,e,JSON.stringify(n),(function(){o["a"].currentRoute.fullPath!=a?o["a"].push(a):o["a"].go()}))}else alert(d["a"].t("alertText.fiveForms"))},getFreePos:function(){for(var t=[],e=0;e<5;e++)t[e]=!1;for(var a=0;a<this.$store.state.forms.length;a++){var n,i=this.$store.state.forms[a].link;n=i.split("/")[3]?parseInt(i.split("/")[3]):parseInt(i.split("/")[2]),n>=0&&n<5&&(t[n]=!0)}for(var s=0;s<5;s++)if(!t[s])return s;return-1},selectType:function(t){this.$store.dispatch("setCurCallback",t),this.$store.state.newformroute.newformdialog=!0,this.$store.dispatch("setOverlay",!1)},handleNotification:function(){this.$store.dispatch("setNotificationMsg",null)}},computed:m(m({},Object(r["b"])({user:"user",state:"state"})),{},{window_width:function(){return window.innerWidth},showAppBar:function(){return"viewform"!==this.$route.name&&"base"!==this.$route.name},ordforms:function(t){var e=[];if(t=this.$store.state,t.forms)for(var a=0;a<t.forms.length;a++){var n=t.forms[a];"Ordering form"===n.type&&e.push(n)}return e},catforms:function(t){var e=[];if(t=this.$store.state,t.forms)for(var a=0;a<t.forms.length;a++){var n=t.forms[a];"Catalogue"===n.type&&e.push(n)}return e}})},p=f,g=(a("9c2c"),a("2877")),h=Object(g["a"])(p,n,i,!1,null,null,null);e["a"]=h.exports},"9c2c":function(t,e,a){"use strict";a("cd98")},a481:function(t,e,a){"use strict";var n=a("cb7c"),i=a("4bf8"),s=a("9def"),r=a("4588"),o=a("0390"),l=a("5f1b"),c=Math.max,d=Math.min,u=Math.floor,m=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g,p=function(t){return void 0===t?t:String(t)};a("214f")("replace",2,(function(t,e,a,g){return[function(n,i){var s=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,s,i):a.call(String(s),n,i)},function(t,e){var i=g(a,t,this,e);if(i.done)return i.value;var u=n(t),m=String(this),f="function"===typeof e;f||(e=String(e));var v=u.global;if(v){var _=u.unicode;u.lastIndex=0}var O=[];while(1){var b=l(u,m);if(null===b)break;if(O.push(b),!v)break;var w=String(b[0]);""===w&&(u.lastIndex=o(m,s(u.lastIndex),_))}for(var y="",x=0,M=0;M<O.length;M++){b=O[M];for(var C=String(b[0]),k=c(d(r(b.index),m.length),0),$=[],S=1;S<b.length;S++)$.push(p(b[S]));var D=b.groups;if(f){var U=[C].concat($,k,m);void 0!==D&&U.push(D);var j=String(e.apply(void 0,U))}else j=h(C,m,k,$,D,e);k>=x&&(y+=m.slice(x,k)+j,x=k+C.length)}return y+m.slice(x)}];function h(t,e,n,s,r,o){var l=n+t.length,c=s.length,d=f;return void 0!==r&&(r=i(r),d=m),a.call(o,d,(function(a,i){var o;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(l);case"<":o=r[i.slice(1,-1)];break;default:var d=+i;if(0===d)return a;if(d>c){var m=u(d/10);return 0===m?a:m<=c?void 0===s[m-1]?i.charAt(1):s[m-1]+i.charAt(1):a}o=s[d-1]}return void 0===o?"":o}))}}))},bf37:function(t,e,a){t.exports=a.p+"img/close.a173d236.svg"},c799:function(t,e,a){t.exports=a.p+"img/whatsapp_icon.0d197c44.svg"},cd98:function(t,e,a){},e8ea:function(t,e,a){t.exports=a.p+"img/menu.ef470fb8.svg"},f8a4:function(t,e,a){}}]);
//# sourceMappingURL=chunk-27683f74.f87cc75e.js.map