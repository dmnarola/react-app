(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c211293"],{2461:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("AdminHeader",{attrs:{headerName:t.payload.shopname,view_form:!0}}),a("v-overlay",{attrs:{value:t.$store.state.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),a("div",{staticClass:"desktop_margin"},[a("v-container",{staticClass:"desktopView pt-10"},[a("div",{staticClass:"d-flex justify-space-between"},[a("div",{staticClass:"justify-start"},[a("div",{staticClass:"justify-content-start header-desktop"},[t._v("\n            "+t._s(t.$t("newUi.forms.editForm",{form:t.header_name}))+"\n          ")])]),a("div",{staticClass:"justify-end",staticStyle:{"font-size":"12px"}},[a("div",{staticClass:"row p-2 justify-content-end"},[a("v-btn",{staticClass:"button_padding",staticStyle:{"font-size":"14px"},attrs:{color:"#8AB26D"},on:{click:function(e){t.delete_form_dialog=!0}}},[t._v("\n              "+t._s(t.$t("newUi.editForm.deleteForm"))+"\n            ")])],1)])])]),""==t.item_type?a("v-container",[a("div",{staticClass:"row cursor-pointer"},[a("div",{staticClass:"border-bottom cursor-pointer p-2 m-2",class:{text_color:"Product"==t.selected},on:{click:function(e){t.selected="Product"}}},[t._v("\n          "+t._s(t.$t("newUi.adminViewform.addPro"))+"\n        ")]),a("div",{staticClass:"border-bottom cursor-pointer p-2 m-2",class:{text_color:"Category"==t.selected},on:{click:function(e){t.selected="Category"}}},[t._v("\n          "+t._s(t.$t("newUi.adminViewform.addCat"))+"\n        ")])]),"Product"==t.selected?a("AddProducts",{attrs:{payload:t.payload}}):t._e(),"Category"==t.selected?a("AddCategory",{staticClass:"mt-5",attrs:{payload:t.payload}}):t._e()],1):t._e(),""!=t.item_type?a("v-container",["edit_product"==t.item_type?a("edit-products",{staticClass:"mt-5",attrs:{payload:t.$route.params.item_deatails}}):t._e(),"edit_category"==t.item_type?a("edit-category",{staticClass:"mt-5",attrs:{payload:t.$route.params.item_deatails}}):t._e()],1):t._e(),a("v-dialog",{attrs:{"content-class":"crop-dialog"},model:{value:t.delete_form_dialog,callback:function(e){t.delete_form_dialog=e},expression:"delete_form_dialog"}},[a("v-container",{staticStyle:{height:"200px","background-color":"#fff"}},[a("div",{staticClass:"d-flex justify-end justify-content-end text_color",staticStyle:{"font-size":"14px"}},[a("i",{staticClass:"bi bi-x",on:{click:function(e){t.delete_form_dialog=!1}}})]),a("div",{staticClass:"text-center text_color"},[t._v("\n          "+t._s(t.$t("newUi.editForm.deleteForm"))+"\n        ")]),a("v-container",{staticClass:"text-center"},[a("div",[t._v(t._s(t.$t("newUi.deleteForm.confirmDelete")))]),a("v-spacer",{staticStyle:{padding:"10px"}}),a("v-btn",{staticClass:"button_padding",attrs:{color:"#8AB26D"},on:{click:function(e){t.delete_form_dialog=!1}}},[t._v(t._s(t.$t("common.cancelButton")))]),a("v-btn",{staticClass:"button_padding",attrs:{color:"#8AB26D"},on:{click:function(e){return t.deleteFormFile(t.payload.pos)}}},[t._v(t._s(t.$t("common.deleteButton")))])],1)],1)],1)],1)],1)},r=[],o=(a("b54a"),a("28a5"),a("a8d7")),i=a("07a4"),n=a("fce6"),c=a("033d"),l=a("9225"),d=a("9883"),u=a("8f40"),m=a("7795"),p=a("f90f"),h={name:"GsCatelogueEditForm",props:["payload"],components:{AdminHeader:u["a"],AddProducts:n["a"],AddCategory:c["a"],EditProducts:m["a"],EditCategory:p["a"]},data:function(){return{validateNumber:"hide",selected:this.$route.params.add_type?this.$route.params.add_type:"Product",form_saved:!1,phone:"",valid_number:"",item_type:this.$route.params.edit_type?this.$route.params.edit_type:"",phone_valid:"",delete_form_dialog:!1}},mounted:function(){Object(o["s"])()},computed:{header_name:function(){var t="";return t="Ordering form"==this.payload.type?l["a"].t("newUi.forms.order"):l["a"].t("newUi.forms.cat"),t}},methods:{addcateg:function(){var t=this.$store.state.currentForm.catalogue.maxlength;if(t){var e=this.$store.state.currentForm.catalogue.maxlength+1;t=e,this.$store.dispatch("setMaxLength",e)}else t=1,this.$store.dispatch("setMaxLength",1);this.$store.state.currentForm.catalogue.push({pos:t,type:"category",name:""})},onInput:function(t,e){var a=e.number,s=e.valid;document.getElementsByClassName("vti__input").value=a,this.phone_valid=s,this.mobile_number=t,this.payload.phone=a},onValidate:function(t){var e=t.valid;this.phone_valid=e},additem:function(){var t=this.$store.state.currentForm.catalogue.maxlength;if(t){var e=this.$store.state.currentForm.catalogue.maxlength+1;t=e,this.$store.dispatch("setMaxLength",e)}else t=1,this.$store.dispatch("setMaxLength",1);this.$store.state.currentForm.catalogue.push({pos:t,type:"item",name:"",desc:"",imageurl:"",price:0,qtty:0})},delitem:function(){this.$store.state.currentForm.catalogue.pop()},submit:function(){this.saveCurrentForm()},cancel:function(){d["a"].push("/admin/viewform/"+this.$store.state.currentForm.pos)},deleteFormFile:function(t){var e=this.$store;this.$store.dispatch("setOverlay",!0);for(var a=0;a<this.$store.state.forms.length;a++)if(this.$store.state.forms[a].link.split("/")[3]===t){this.$store.state.forms.splice(a,1),Object(o["c"])((function(t){return console.log(t),0}),this.$store.state),Object(o["b"])(this.$store.state.profile.uid,t,(function(){e.dispatch("setOverlay",!1)}));break}d["a"].push("/admin")},validatePhone:function(t){var e=/^\+(?:[0-9] ?){6,14}[0-9]$/;return!!e.test(t)},validatePrice:function(){var t=this.$store.state.currentForm.catalogue,e={status:!0,price:""};if(t.length>0){for(var a=0;a<t.length;a++)if("item"==t[a].type&&(""==t[a].price||parseFloat(t[a].price)<0||!parseFloat(t[a].price)))return e.status=!1,e.price=t[a].price,e.status;return e.status}return e.status},saveCurrentForm:function(){var t=this,e=this.$store.state.currentForm.shopname,a=this.$store.state.currentForm.phone;null!=e&&e&&""!=e?"+91"==a||1!=this.phone_valid?alert(l["a"].t("alertText.validatePhoneAlert")):(this.$store.dispatch("setOverlay",!0),Object(o["m"])(this.$store.state.profile.uid,this.$store.state.currentFormPos,JSON.stringify(this.$store.state.currentForm),(function(t){t?(alert(l["a"].t("alertText.saveFailed")),i["a"].dispatch("setOverlay",!1)):(alert(l["a"].t("alertText.uploadText")),i["a"].dispatch("setOverlay",!1))})).then((function(){Object(o["p"])((function(t){console.log(t)}),t.$store.state),t.form_saved=!0,d["a"].push("/admin/viewform/"+i["a"].state.currentForm.pos)}))):alert(l["a"].t("alertText.validateNameAlert",{type:this.type}))}}},f=h,v=(a("b3b8"),a("2877")),_=Object(v["a"])(f,s,r,!1,null,null,null);e["default"]=_.exports},"60cc":function(t,e,a){},b3b8:function(t,e,a){"use strict";a("60cc")}}]);
//# sourceMappingURL=chunk-4c211293.2c862b4b.js.map