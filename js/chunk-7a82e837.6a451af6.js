(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a82e837"],{"033d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-overlay",{attrs:{value:t.$store.state.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),a("div",{staticClass:"mobileview pt-8 text_color"},[t._v("\n    "+t._s(t.$t("newUi.adminViewform.addCat"))+"\n  ")]),a("v-container",{staticClass:"padding_view desktop_section"},[a("v-text-field",{attrs:{label:t.$t("newUi.addCategory.name"),title:t.$t(""),autocomplete:"off",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("div",{staticClass:"mobile_data desktop_section_button"},[a("v-btn",{staticClass:"button_padding",attrs:{color:"#8AB26D"},on:{click:function(e){return t.add_category_submit(t.name)}}},[t._v("\n        "+t._s(t.$t("newUi.editForm.save"))+"\n      ")]),a("v-btn",{staticClass:"button_padding desktopView",attrs:{color:"#8AB26D"},on:{click:function(e){return e.preventDefault(),t.cancel.apply(null,arguments)}}},[t._v("\n        "+t._s(t.$t("newUi.editForm.cancel"))+"\n      ")]),a("div",{staticClass:"text-decoration-underline cursor-pointer text_color mt-2"},[a("span",{on:{click:function(e){return t.add_category_more(t.name)}}},[t._v("\n          "+t._s(t.$t("newUi.addItem.saveMore")))])])],1)],1)],1)},s=[],r=(a("a481"),a("b54a"),a("28a5"),a("7f7f"),a("ac6a"),a("9883")),o=a("a8d7"),n=a("07a4"),c=a("9225"),l={props:["payload"],data:function(){return{sheet:!1,add_category:!1,name:"",description:"",addproduct_category:"",addproduct_desc:"",addproduct_name:"",addproduct_price:0,addproduct_image:"",cropped:null,cropDialog:!1,croppieElm:null}},mounted:function(){Object(o["s"])(),this.set_category_item_null()},computed:{type:function(){return"Ordering form"==this.payload.type?c["a"].t("common.typeOrderForm"):c["a"].t("common.typeCatelogue")},category_name:function(){var t=[],e=this.payload.catalogue.filter((function(t){return"category"==t.type}));return e.forEach((function(e){t.push(e.name)})),t},isEditable:function(){return"viewform"!==this.$route.name}},methods:{add_catag:function(t){var e=this.$store.state.currentForm.maxlength;if(e){var a=this.$store.state.currentForm.maxlength+1;e=a,this.$store.dispatch("setMaxLength",a)}else{for(var i=0;i<this.$store.state.forms.length;i++){var s=this.$store.state.forms[i];s.link.split("/")[3]==this.$store.state.currentForm.pos&&(this.$store.state.forms[i].image="https://firebasestorage.googleapis.com/v0/b/gupshup-gipforms.appspot.com/o/files%2Flogo.png?alt=media&token=56547b3f-f39c-48cf-840f-e4bc085422a5")}e=1,this.$store.dispatch("setMaxLength",1)}this.$store.state.currentForm.catalogue.push({pos:e,type:"category",name:t})},set_category_item_null:function(){this.name=""},submit:function(){this.sheet=!0},add_category_open:function(){this.add_category=!0},add_category_submit:function(t){var e=!1;null!=t&&t&&""!=t?t.length>25?alert(c["a"].t("alertText.catFormMax")):(this.$store.state.currentForm.catalogue.map((function(a){"category"==a.type&&a.name.toLowerCase().replace(/ /g,"")===t.toLowerCase().replace(/ /g,"")&&(e=!0)})),e?alert(c["a"].t("alertText.CategoryExists")):(this.add_category=!1,r["a"].currentRoute.fullPath=="/admin/editform/"+this.$store.state.currentForm.pos||r["a"].currentRoute.fullPath=="/admin/additemstoform/"+this.$store.state.currentForm.pos?(this.add_catag(t),this.saveCurrentForm()):(this.add_catag(t),this.saveCurrentFormMore()))):alert(c["a"].t("alertText.nameAlert"))},cancel:function(){r["a"].push("/admin/viewform/"+this.$store.state.currentForm.pos)},add_category_more:function(t){var e=!1;null!=t&&t&&""!=t?t.length>25?alert(c["a"].t("alertText.catFormMax")):(this.$store.state.currentForm.catalogue.map((function(a){"category"==a.type&&a.name.toLowerCase().replace(/ /g,"")===t.toLowerCase().replace(/ /g,"")&&(e=!0)})),e?alert(c["a"].t("alertText.CategoryExists")):(this.add_catag(t),this.saveCurrentFormMore(),this.set_category_item_null(),this.add_category=!0)):alert(c["a"].t("alertText.nameAlert"))},saveCurrentForm:function(){var t=this,e=this.$store.state.currentForm.shopname,a=this.$store.state.currentForm.phone;if(null!=e&&e&&""!=e)if(0==a.length)alert(c["a"].t("alertText.validatePhoneAlert"));else{this.$store.dispatch("setOverlay",!0);Object(o["m"])(this.$store.state.profile.uid,this.$store.state.currentFormPos,JSON.stringify(this.$store.state.currentForm),(function(t){t&&(alert(c["a"].t("alertText.saveFailed")),n["a"].dispatch("setOverlay",!1))})).then((function(){Object(o["p"])((function(t){console.log(t)}),t.$store.state),r["a"].push("/admin/viewform/"+t.$store.state.currentForm.pos)}))}else alert(c["a"].t("alertText.validateNameAlert",{type:this.type}))},saveCurrentFormMore:function(){var t=this,e=this.$store.state.currentForm.shopname,a=this.$store.state.currentForm.phone;if(null!=e&&e&&""!=e)if(0==a.length)alert(c["a"].t("alertText.validatePhoneAlert"));else{this.$store.dispatch("setOverlay",!0);Object(o["m"])(this.$store.state.profile.uid,this.$store.state.currentFormPos,JSON.stringify(this.$store.state.currentForm),(function(t){t&&(alert(c["a"].t("alertText.saveFailed")),n["a"].dispatch("setOverlay",!1))})).then((function(){Object(o["p"])((function(t){console.log(t)}),t.$store.state),n["a"].dispatch("setOverlay",!1)}))}else alert(c["a"].t("alertText.validateNameAlert",{type:this.type}))}}},d=l,u=(a("049e"),a("2877")),p=Object(u["a"])(d,i,s,!1,null,null,null);e["a"]=p.exports},"049e":function(t,e,a){"use strict";a("a774")},"1c75":function(t,e,a){t.exports=a.p+"img/plus_green.d8e21fe6.svg"},"33ce":function(t,e,a){t.exports=a.p+"img/LogoDark.62d0fae8.png"},"63c0":function(t,e,a){t.exports=a.p+"img/delete_icon.3c1b0552.svg"},"653a":function(t,e,a){t.exports=a.p+"img/LogoGreen.980f73e9.png"},6712:function(t,e,a){t.exports=a.p+"img/edit_icon.a92ddd41.svg"},"7e6e":function(t,e,a){t.exports=a.p+"img/rotate_icon.cad4a36b.svg"},"8f40":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.showAppBar&&t.$vuetify.breakpoint.xsOnly||t.$vuetify.breakpoint.smOnly?i("v-app-bar",{staticClass:"desktop_main",class:{desktop_main:t.windowWidth>576},staticStyle:{"background-color":"#fff"},attrs:{"clipped-left":"","clipped-right":"",flat:"",app:""}},[t.state.profile.isSigned?i("img",{staticStyle:{"font-size":"24px"},attrs:{src:a("e8ea"),alt:""},on:{click:function(e){e.stopPropagation(),t.close_sidebar=!t.close_sidebar}}}):t._e(),t.headerName&&""==t.view_form?i("span",{staticClass:"col justify-content-center header-text text-center pr-10"},[t._v(t._s(t.headerName)+"\n    ")]):t._e(),t.headerName&&1==t.view_form?i("span",{staticClass:"col justify-content-center header-text text-center mobileview pr-10",on:{click:function(e){return t.editform()}}},[t._v(t._s(t.headerName)+"\n      "),i("img",{staticClass:"cursor-pointer",staticStyle:{"background-color":"transparent","padding-left":"4px"},attrs:{src:a("6712"),alt:""}})]):t._e(),void 0!=t.delete_form?i("img",{staticClass:"icon_color cursor-pointer mobileview",staticStyle:{background:"transparent"},attrs:{src:a("63c0"),alt:""},on:{click:function(e){return t.deleteform()}}}):t._e()]):t._e(),i("v-bottom-sheet",{model:{value:t.delete_form_value,callback:function(e){t.delete_form_value=e},expression:"delete_form_value"}},[i("v-sheet",{staticClass:"text-center bottom_modal",attrs:{height:"200px"}},[i("div",{staticClass:"pt-8 text_color"},[t._v(t._s(t.$t("newUi.editForm.deleteForm")))]),i("v-container",[i("div",[t._v(t._s(t.$t("newUi.deleteForm.confirmDelete")))]),i("v-spacer",{staticStyle:{padding:"10px"}}),i("v-btn",{staticClass:"button_padding",attrs:{color:"#8AB26D"},on:{click:t.doCancelDelete}},[t._v(t._s(t.$t("common.cancelButton")))]),i("v-btn",{staticClass:"button_padding",attrs:{color:"#8AB26D"},on:{click:function(e){return t.doDeleteFormMobile(t.delete_form)}}},[t._v(t._s(t.$t("common.deleteButton")))])],1)],1)],1),t.showAppBar?i("v-navigation-drawer",{staticClass:"sideBar desktop_sidebar_background",attrs:{clipped:"",permanent:!t.$vuetify.breakpoint.xsOnly&&!t.$vuetify.breakpoint.smOnly,app:"",width:315}},[i("v-list",{attrs:{dense:"",nav:""}},[i("v-list-item",[i("img",{staticClass:"img-fluid",staticStyle:{left:"-15px",position:"absolute"},attrs:{src:a("653a"),width:"200",alt:"logo"}})]),i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[i("div",{staticClass:"text-white padding-bottom-10"},[t._v("\n              "+t._s(t.$t("newUi.sideBarData.signedIn"))+"\n            ")]),i("div",{staticClass:"padding-bottom-10",staticStyle:{color:"#f8faf7"}},[t._v("\n              "+t._s(t.state.profile.name)+"\n            ")]),i("div",{staticClass:"cursor-pointer mt-2 heading_color",on:{click:t.logout}},[t._v("\n              "+t._s(t.$t("newUi.sideBarData.signedOut"))+"\n            ")])])],1)],1),i("router-link",{staticClass:"heading_color",attrs:{to:"/orderManagement",tag:"v-list-item-title"}},[i("v-list-item",{class:{hightlight_name:"/orderManagement"==t.$route.fullPath},attrs:{link:""},on:{click:t.handleNotification}},[null!==t.$store.state.isNotificationMsg?i("span",{staticClass:"unread"}):t._e(),i("v-list-item-content",[i("span",{staticClass:"heading_color"},[t._v(t._s(t.$t("newUi.OrderManagement.OMheading")))])])],1)],1),i("router-link",{staticClass:"heading_color",attrs:{to:"/admin",tag:"v-list-item-title"}},[i("v-list-item",{class:{hightlight_name:"/admin"==t.$route.fullPath},attrs:{link:""}},[i("v-list-item-content",{on:{click:t.handleNotification}},[i("span",{staticClass:"heading_color"},[t._v(t._s(t.$t("sideBar.menu.text2")))])])],1)],1),i("v-list-item",[i("span",{staticClass:"heading_color"},[t._v(t._s(t.$t("newUi.sideBarData.formsTitle")))])]),t._l(t.$store.state.forms,(function(e,a){return i("v-list-item",{key:a,class:{hightlight_name:t.$route.fullPath.includes("/admin/viewform/"+e.link.split("/")[3])},attrs:{link:""},on:{click:function(a){t.routeToViewForm(e.link.split("/")[3])}}},[i("v-list-item-content",{on:{click:t.handleNotification}},[i("v-list-item-title",{staticClass:"list_style"},[t._v(t._s(e.shopname))])],1)],1)})),i("v-list-item",[i("span",{staticClass:"heading_color"},[t._v(t._s(t.$t("sideBar.menu.text3")))])]),i("v-list-item",{class:{hightlight_name:t.$route.fullPath.includes("/admin/editform/"+t.$store.state.currentForm.pos)},attrs:{link:""},on:{click:function(e){return t.createoderform("Ordering form")}}},[i("v-list-item-content",{on:{click:t.handleNotification}},[i("v-list-item-title",{staticClass:"list_style"},[t._v("\n            "+t._s(t.$t("newUi.sideBarData.orderForm"))+"\n          ")])],1)],1),i("v-list-item",{class:{hightlight_name:t.$route.fullPath.includes("/admin/category_form/"+t.$store.state.currentForm.pos)},attrs:{link:""},on:{click:function(e){return t.createoderform("Catalogue")}}},[i("v-list-item-content",{on:{click:t.handleNotification}},[i("v-list-item-title",{staticClass:"list_style"},[t._v("\n            "+t._s(t.$t("newUi.sideBarData.catForm"))+"\n          ")])],1)],1),i("v-list-item",{attrs:{link:""}},[i("v-list-item-content",{staticClass:"heading_color"},[i("span",{staticClass:"heading_color",on:{click:t.homepage}},[t._v("\n            "+t._s(t.$t("newUi.sideBarData.gotoBecho"))+"\n          ")])])],1),i("v-list-item",{staticStyle:{margin:"20px 0px"},attrs:{link:""}},[i("v-list-item-content",{staticClass:"whatsapp_sidebar whatsapp_sidebar-extension"},[i("router-link",{staticClass:"heading_color d-flex ",staticStyle:{"align-items":"center"},attrs:{to:"/whatsappwidget",tag:"v-list-item-title"}},[i("img",{staticStyle:{"font-size":"24px"},attrs:{src:a("c799"),alt:""}}),i("span",{},[t._v("\n              "+t._s(t.$t("newUi.sideBarData.widgetButton"))+"\n            ")])])],1)],1),i("v-list-item",{staticStyle:{margin:"20px 0px"},attrs:{link:""}},[i("v-list-item-content",{staticClass:"whatsapp_sidebar whatsapp_sidebar-extension",staticStyle:{background:"#8AB26D"}},[i("router-link",{staticClass:"heading_color d-flex ",staticStyle:{"align-items":"center"},attrs:{to:"/guide",tag:"v-list-item-title"}},[i("img",{staticStyle:{"font-size":"24px"},attrs:{src:a("c799"),alt:""}}),i("span",{},[t._v("\n              "+t._s(t.$t("newUi.pluginGuide.sidebar"))+"\n            ")])])],1),i("br")],1)],2)],1):t._e(),t.showAppBar?i("v-navigation-drawer",{staticClass:"sideBar mobileview",attrs:{clipped:"",app:"",width:294},model:{value:t.close_sidebar,callback:function(e){t.close_sidebar=e},expression:"close_sidebar"}},[i("v-list",{attrs:{dense:"",nav:""}},[i("v-list-item",[i("img",{staticClass:"img-fluid",staticStyle:{left:"-30px",position:"absolute"},attrs:{src:a("33ce"),width:"200",alt:"logo"}})]),i("v-list-item",{staticStyle:{"background-color":"#f8faf7"}},[i("v-list-item-content",[i("v-list-item-title",[i("div",{staticClass:"normal signin-text"},[t._v("\n              "+t._s(t.$t("newUi.sideBarData.signedIn"))+"\n            ")]),i("div",{staticClass:"text_color user-text"},[t._v(t._s(t.state.profile.name))]),i("div",{staticClass:"cursor-pointer mt-3",on:{click:t.logout}},[t._v("\n              "+t._s(t.$t("newUi.sideBarData.signedOut"))+"\n            ")])])],1)],1),i("v-list-item",{attrs:{link:""},on:{click:t.handleNotification}},[null!==t.$store.state.isNotificationMsg?i("span",{staticClass:"unread"}):t._e(),i("v-list-item-content",[i("router-link",{attrs:{to:"/orderManagement",tag:"v-list-item-title"}},[t._v(t._s(t.$t("newUi.OrderManagement.OMheading")))])],1)],1),i("v-list-item",{attrs:{link:""}},[i("v-list-item-content",[i("router-link",{attrs:{to:"/admin",tag:"v-list-item-title"}},[t._v(t._s(t.$t("sideBar.menu.text2")))])],1)],1),i("v-list-item",{staticClass:"mobileview"},[i("span",{staticClass:"text_color"},[t._v(t._s(t.$t("newUi.sideBarData.formsTitle")))])]),t._l(t.$store.state.forms,(function(e,a){return i("v-list-item",{key:a,staticClass:"mobileview",attrs:{link:""}},[i("v-list-item-content",[i("v-list-item-title",{staticClass:"list_style_mobile",on:{click:function(a){t.routeToViewForm(e.link.split("/")[3])}}},[t._v(t._s(e.shopname))])],1)],1)})),i("v-list-item",{staticClass:"mobileview"},[i("span",{staticClass:"text_color"},[t._v(t._s(t.$t("sideBar.menu.text3")))])]),i("v-list-item",{staticClass:"mobileview",attrs:{link:""},on:{click:function(e){return t.createoderform("Ordering form")}}},[i("v-list-item-content",[i("v-list-item-title",{staticClass:"list_style_mobile"},[t._v("\n            "+t._s(t.$t("newUi.sideBarData.orderForm"))+"\n          ")])],1)],1),i("v-list-item",{staticClass:"mobileview",attrs:{link:""},on:{click:function(e){return t.createoderform("Catalogue")}}},[i("v-list-item-content",[i("v-list-item-title",{staticClass:"list_style_mobile"},[t._v("\n            "+t._s(t.$t("newUi.sideBarData.catForm"))+"\n          ")])],1)],1),i("v-list-item",{attrs:{link:""}},[i("v-list-item-content",[i("span",{staticClass:"homepage_link",on:{click:t.homepage}},[t._v("\n            "+t._s(t.$t("newUi.sideBarData.gotoBecho"))+"\n          ")])])],1),i("v-list-item",{attrs:{link:""}},[i("v-list-item-content",[i("router-link",{attrs:{to:"/whatsappwidget",tag:"v-list-item-title"}},[i("i",{staticClass:"bi bi-whatsapp",staticStyle:{"font-size":"24px",color:"green"}}),t._v("\n            "+t._s(t.$t("newUi.sideBarData.widgetButton"))+"\n          ")])],1)],1),i("v-list-item",{attrs:{link:""}},[i("v-list-item-content",[i("router-link",{attrs:{to:"/guide",tag:"v-list-item-title"}},[i("i",{staticClass:"bi bi-whatsapp",staticStyle:{"font-size":"24px",color:"#8AB26D"}}),t._v("\n            "+t._s(t.$t("newUi.pluginGuide.sidebar"))+"\n          ")])],1)],1),i("br")],2)],1):t._e(),i("v-dialog",{staticClass:"desktopView",attrs:{"content-class":"dialog_logout"},model:{value:t.form_logout_desktop,callback:function(e){t.form_logout_desktop=e},expression:"form_logout_desktop"}},[i("v-container",{staticClass:"1"},[i("div",{staticClass:"d-flex justify-end justify-content-end text_color",staticStyle:{"font-size":"20px"}},[i("span",{staticClass:"cursor-pointer",on:{click:t.closing_logout_desktop}},[t._v("x")])]),i("v-container",{staticClass:"text-center"},[i("div",{staticClass:"col",staticStyle:{"padding-top":"0px"}},[i("div",[i("p",{staticStyle:{"font-weight":"bolder"}},[t._v("\n              "+t._s(t.$t("newUi.sideBarData.logOutConfirm"))+"\n            ")]),i("p",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.logout_count>=2&&!this.$store.state.user.data.email,expression:"$store.state.logout_count>=2 && !this.$store.state.user.data.email ?true:false"}],staticStyle:{"margin-bottom":"0px !important"}},[t._v(t._s(t.$t("alertText.logoutAlert")))])])]),i("v-btn",{staticClass:"button_padding",attrs:{color:"#128c7e"},on:{click:t.confirmSignOut}},[t._v(t._s(t.$t("newUi.sideBarData.signedOut")))])],1)],1)],1)],1)},s=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("7f7f"),a("ade3")),o=(a("b54a"),a("28a5"),a("2f62")),n=a("9883"),c=a("a8d7"),l=a("07a4"),d=a("9225");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var m={name:"AdminHeader",props:["headerName","view_form","delete_form"],mounted:function(){var t=this;Object(c["s"])(),this.$nextTick((function(){window.addEventListener("resize",t.onResize)})),Object(c["k"])().then((function(e){console.log("called"),t.$store.dispatch("setNotificationMsg",e.data.body)})).catch((function(t){console.log("err",t)}));var e=new BroadcastChannel("notification-channel");e.onmessage=function(e){e.data&&"SEND_NOTIFICATION"===e.data.type&&t.$store.dispatch("setNotificationMsg",e.data.payload)}},data:function(){return{delete_form_value:!1,windowWidth:"",close_sidebar:!1,form_logout_desktop:!1}},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)},methods:{homepage:function(){window.location.href="/"},logout:function(){this.form_logout_desktop=!0},confirmSignOut:function(){if(this.form_logout_desktop=!1,!this.$store.state.user.data.email){var t=new Date(this.$store.state.last_logout),e=new Date;t?t.getFullYear()<e.getFullYear()||t.getMonth()<e.getMonth()||t.getDate()<e.getDate()?(l["a"].dispatch("setLastLogout",e),l["a"].dispatch("setLogOutCount",1)):t.getDate()==e.getDate()&&t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()&&l["a"].dispatch("setLogOutCount",parseInt(this.$store.state.logout_count)+1):(l["a"].dispatch("setLastLogout",e),l["a"].dispatch("setLogOutCount",1))}this.$store.dispatch("logout")},startLogin:function(){this.$store.dispatch("startLogin")},closing_logout_desktop:function(){this.form_logout_desktop=!1},createWhatsAppWidget:function(){n["a"].push("/whatsappwidget")},editform:function(){n["a"].push("/editform/"+this.$store.state.currentForm.pos)},deleteform:function(){this.delete_form_value=!0},doDeleteFormMobile:function(t){this.delete_form_value=!1,this.deleteFormFile(t)},routeToViewForm:function(t){this.$store.dispatch("fileLoaded",!1),n["a"].push("/admin/viewform/"+t)},doCancelDelete:function(){this.delete_form_value=!1},deleteFormFile:function(t){var e=this.$store;console.log("storedata",e.state),this.$store.dispatch("setOverlay",!0);for(var a=0;a<this.$store.state.forms.length;a++)if(this.$store.state.forms[a].link.split("/")[3]===t){this.$store.state.forms.splice(a,1),Object(c["c"])((function(t){return console.log(t),0}),this.$store.state),Object(c["b"])(this.$store.state.profile.uid,t,(function(){e.dispatch("setOverlay",!1)}));break}n["a"].push("/admin")},onResize:function(){this.windowWidth=window.innerWidth},createoderform:function(t){var e=this.getFreePos();if(-1!==e){var a="Ordering form"==t?"/admin/editform/".concat(e):"/admin/category_form/".concat(e),i={id:l["a"].state.profile.uid,pos:e,categs:["Ordering form","Catalogue"],shopname:"",shopdesc:"",type:t,catalogue:[],phone:"",amount:0,maxlength:0};Object(c["m"])(l["a"].state.profile.uid,e,JSON.stringify(i),(function(){n["a"].currentRoute.fullPath!=a?n["a"].push(a):n["a"].go()}))}else alert(d["a"].t("alertText.fiveForms"))},getFreePos:function(){for(var t=[],e=0;e<5;e++)t[e]=!1;for(var a=0;a<this.$store.state.forms.length;a++){var i,s=this.$store.state.forms[a].link;i=s.split("/")[3]?parseInt(s.split("/")[3]):parseInt(s.split("/")[2]),i>=0&&i<5&&(t[i]=!0)}for(var r=0;r<5;r++)if(!t[r])return r;return-1},selectType:function(t){this.$store.dispatch("setCurCallback",t),this.$store.state.newformroute.newformdialog=!0,this.$store.dispatch("setOverlay",!1)},handleNotification:function(){this.$store.dispatch("setNotificationMsg",null)}},computed:p(p({},Object(o["b"])({user:"user",state:"state"})),{},{window_width:function(){return window.innerWidth},showAppBar:function(){return"viewform"!==this.$route.name&&"base"!==this.$route.name},ordforms:function(t){var e=[];if(t=this.$store.state,t.forms)for(var a=0;a<t.forms.length;a++){var i=t.forms[a];"Ordering form"===i.type&&e.push(i)}return e},catforms:function(t){var e=[];if(t=this.$store.state,t.forms)for(var a=0;a<t.forms.length;a++){var i=t.forms[a];"Catalogue"===i.type&&e.push(i)}return e}})},f=m,h=(a("9c2c"),a("2877")),g=Object(h["a"])(f,i,s,!1,null,null,null);e["a"]=g.exports},"9be8":function(t,e,a){"use strict";a("ff7e")},"9c2c":function(t,e,a){"use strict";a("cd98")},a321:function(t,e,a){t.exports=a.p+"img/right_icon.eaaecd0f.svg"},a481:function(t,e,a){"use strict";var i=a("cb7c"),s=a("4bf8"),r=a("9def"),o=a("4588"),n=a("0390"),c=a("5f1b"),l=Math.max,d=Math.min,u=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,m=/\$([$&`']|\d\d?)/g,f=function(t){return void 0===t?t:String(t)};a("214f")("replace",2,(function(t,e,a,h){return[function(i,s){var r=t(this),o=void 0==i?void 0:i[e];return void 0!==o?o.call(i,r,s):a.call(String(r),i,s)},function(t,e){var s=h(a,t,this,e);if(s.done)return s.value;var u=i(t),p=String(this),m="function"===typeof e;m||(e=String(e));var v=u.global;if(v){var _=u.unicode;u.lastIndex=0}var b=[];while(1){var y=c(u,p);if(null===y)break;if(b.push(y),!v)break;var $=String(y[0]);""===$&&(u.lastIndex=n(p,r(u.lastIndex),_))}for(var w="",x=0,k=0;k<b.length;k++){y=b[k];for(var C=String(y[0]),F=l(d(o(y.index),p.length),0),O=[],D=1;D<y.length;D++)O.push(f(y[D]));var U=y.groups;if(m){var T=[C].concat(O,F,p);void 0!==U&&T.push(U);var S=String(e.apply(void 0,T))}else S=g(C,p,F,O,U,e);F>=x&&(w+=p.slice(x,F)+S,x=F+C.length)}return w+p.slice(x)}];function g(t,e,i,r,o,n){var c=i+t.length,l=r.length,d=m;return void 0!==o&&(o=s(o),d=p),a.call(n,d,(function(a,s){var n;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(c);case"<":n=o[s.slice(1,-1)];break;default:var d=+s;if(0===d)return a;if(d>l){var p=u(d/10);return 0===p?a:p<=l?void 0===r[p-1]?s.charAt(1):r[p-1]+s.charAt(1):a}n=r[d-1]}return void 0===n?"":n}))}}))},a774:function(t,e,a){},c799:function(t,e,a){t.exports=a.p+"img/whatsapp_icon.0d197c44.svg"},cd98:function(t,e,a){},e8ea:function(t,e,a){t.exports=a.p+"img/menu.ef470fb8.svg"},fce6:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-overlay",{attrs:{value:t.set_overlay}},[i("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),i("div",{staticClass:"pt-6 text_color mobileview"},[t._v("\n    "+t._s(t.$t("newUi.adminViewform.addPro"))+"\n  ")]),i("v-container",{staticClass:"mobileview padding_view"},[i("v-text-field",{attrs:{label:t.$t("newUi.addItem.itemName"),title:t.$t(""),autocomplete:"off",required:""},model:{value:t.addproduct_name,callback:function(e){t.addproduct_name=e},expression:"addproduct_name"}}),i("v-textarea",{attrs:{label:t.$t("newUi.addItem.enterDesc"),autocomplete:"off",title:t.$t(""),required:"",name:"text",row:"2","row-height":"20"},model:{value:t.addproduct_desc,callback:function(e){t.addproduct_desc=e},expression:"addproduct_desc"}}),i("v-text-field",{attrs:{prefix:this.$store.state.currentForm.symbol,label:t.$t("newUi.addItem.price"),title:t.$t(""),autocomplete:"off",required:"",type:"number",min:"0"},model:{value:t.addproduct_price,callback:function(e){t.addproduct_price=e},expression:"addproduct_price"}}),i("v-select",{attrs:{label:t.$t("newUi.addItem.category"),items:t.category_name},model:{value:t.addproduct_category,callback:function(e){t.addproduct_category=e},expression:"addproduct_category"}}),i("v-avatar",{staticClass:"ma-3 text-center mobileview cursor-pointer upload-image-box",attrs:{size:"100",tile:""}},[t.addproduct_image&&!t.isEditable?i("v-img",{attrs:{src:t.addproduct_image}}):t._e(),!t.addproduct_image&&t.isEditable?i("v-card",{staticClass:"text-center mx-auto border",staticStyle:{"padding-top":"20px",height:"100px",width:"100px"},attrs:{flat:"",tile:""},on:{click:function(e){return t.uploading("mobile")}}},[i("img",{staticClass:"cursor-pointer plus_icon",attrs:{src:a("1c75"),alt:""}}),i("div",{staticClass:"text-center text_color"},[t._v("\n          "+t._s(t.$t("newUi.addItem.upload"))+"\n        ")])]):t._e(),t.addproduct_image&&t.isEditable?i("v-img",{attrs:{src:t.addproduct_image},on:{click:function(e){return t.uploading("mobile")}}}):t._e()],1),i("div",{staticClass:"text-center mb-4 upload-image-buttons"},[i("v-btn",{staticClass:"button_padding mt-2",attrs:{color:"#8AB26D"},on:{click:function(e){return e.preventDefault(),t.add_product_submit(t.addproduct_name,t.addproduct_desc,t.addproduct_price,t.addproduct_category,t.addproduct_image)}}},[t._v("\n        "+t._s(t.$t("newUi.editForm.save"))+"\n      ")]),i("div",{staticClass:"mt-2"},[i("span",{staticClass:"text-decoration-underline cursor-pointer text_color",on:{click:function(e){return e.preventDefault(),t.add_product_more(t.addproduct_name,t.addproduct_desc,t.addproduct_price,t.addproduct_category,t.addproduct_image)}}},[t._v(t._s(t.$t("newUi.addItem.saveMore")))])])],1)],1),i("v-container",{staticClass:"desktopView mt-5 row padding_view"},[i("div",{staticClass:"col"},[i("v-text-field",{attrs:{label:t.$t("newUi.addItem.itemName"),title:t.$t(""),autocomplete:"off",required:""},model:{value:t.addproduct_name,callback:function(e){t.addproduct_name=e},expression:"addproduct_name"}}),i("v-textarea",{attrs:{label:t.$t("newUi.addItem.enterDesc"),autocomplete:"off",title:t.$t(""),required:"",name:"text",row:"2","row-height":"20"},model:{value:t.addproduct_desc,callback:function(e){t.addproduct_desc=e},expression:"addproduct_desc"}}),i("v-text-field",{attrs:{prefix:this.$store.state.currentForm.symbol,label:t.$t("newUi.addItem.price"),title:t.$t(""),autocomplete:"off",required:"",type:"number",min:"0"},model:{value:t.addproduct_price,callback:function(e){t.addproduct_price=e},expression:"addproduct_price"}}),i("v-select",{attrs:{label:t.$t("newUi.addItem.category"),items:t.category_name},model:{value:t.addproduct_category,callback:function(e){t.addproduct_category=e},expression:"addproduct_category"}})],1),i("v-avatar",{staticClass:"desktopView cursor-pointer",attrs:{size:"100",tile:""}},[t.addproduct_image&&!t.isEditable?i("v-img",{attrs:{src:t.addproduct_image}}):t._e(),!t.addproduct_image&&t.isEditable?i("v-card",{staticClass:"text-center",staticStyle:{"padding-top":"30px",width:"100px",height:"100px",background:"#f8faf7"},attrs:{flat:"",tile:""},on:{click:function(e){return t.uploading("desktop")}}},[i("img",{staticClass:"cursor-pointer plus_icon",attrs:{src:a("1c75"),alt:""}}),i("div",{staticClass:"text-center text_color",staticStyle:{"font-size":"12px"}},[t._v("\n          "+t._s(t.$t("newUi.addItem.upload"))+"\n        ")])]):t._e(),t.addproduct_image&&t.isEditable?i("v-img",{attrs:{src:t.addproduct_image},on:{click:function(e){return t.uploading("desktop")}}}):t._e()],1)],1),i("div",{staticClass:"desktopView mb-4"},[i("v-btn",{staticClass:"button_padding",attrs:{color:"#8AB26D"},on:{click:function(e){return e.preventDefault(),t.add_product_submit(t.addproduct_name,t.addproduct_desc,t.addproduct_price,t.addproduct_category,t.addproduct_image)}}},[t._v("\n      "+t._s(t.$t("newUi.editForm.save"))+"\n    ")]),i("v-btn",{staticClass:"button_padding desktopView",attrs:{color:"#8AB26D"},on:{click:function(e){return e.preventDefault(),t.cancel.apply(null,arguments)}}},[t._v("\n      "+t._s(t.$t("newUi.editForm.cancel"))+"\n    ")]),i("div",{staticClass:"mt-2"},[i("span",{staticClass:"text-decoration-underline cursor-pointer text_color",on:{click:function(e){return e.preventDefault(),t.add_product_more(t.addproduct_name,t.addproduct_desc,t.addproduct_price,t.addproduct_category,t.addproduct_image)}}},[t._v(t._s(t.$t("newUi.addItem.saveMore")))])])],1),i("div",{staticClass:"modal",attrs:{id:"imageCroper"}},[i("div",{staticClass:"modal-content",staticStyle:{display:"flex"},style:t.$vuetify.breakpoint.height>450?{"justify-content":"center"}:{"justify-content":"start"}},[i("div",{staticStyle:{}},[i("vue-croppie",{ref:"croppieRef",attrs:{enableOrientation:!0,enableResize:!1,boundary:t.$vuetify.breakpoint.height>450?{width:300,height:300}:{width:250,height:250},viewport:{width:240,height:240}},on:{result:t.result,update:t.update}}),i("div",{staticClass:"col d-flex justify-space-between text-center text-white",staticStyle:{background:"black",position:"absolute",bottom:"0"}},[i("div",{staticClass:"text-center pt-3 cursor-pointer",on:{click:function(e){return t.modalToggle("none")}}},[i("i",{staticClass:"bi bi-chevron-left"}),t._v(t._s(t.$t("newUi.addItem.back"))+"\n          ")]),i("img",{staticClass:"cursor-pointer pt-2",attrs:{src:a("7e6e"),alt:""},on:{click:function(e){return t.rotate(-90)}}}),i("div",{staticClass:"crop_icon mt-2",on:{click:function(e){t.crop(),t.cropDialog=!1}}},[i("img",{staticClass:"cursor-pointer pt-1",attrs:{src:a("a321"),alt:""}})])])],1)])])],1)},s=[],r=(a("a481"),a("b54a"),a("28a5"),a("7f7f"),a("ac6a"),a("9883")),o=a("a8d7"),n=a("07a4"),c=a("9225"),l={props:["payload"],data:function(){return{sheet:!1,add_category:!1,name:"",description:"",addproduct_category:c["a"].t("newUi.addItem.noCate"),addproduct_desc:"",addproduct_name:"",addproduct_price:0,addproduct_image:"",cropped:null,data_saved:!1,cropDialog:!1,cropDialog2:!1,croppieElm:null,set_overlay:!1}},mounted:function(){Object(o["s"])(),this.set_product_item_null()},computed:{type:function(){return"Ordering form"==this.payload.type?c["a"].t("common.typeOrderForm"):c["a"].t("common.typeCatelogue")},category_name:function(){var t=[c["a"].t("newUi.addItem.noCate")],e=this.payload.catalogue.filter((function(t){return"category"==t.type}));return e.forEach((function(e){t.push(e.name)})),t},category_object:function(){var t=[{name:c["a"].t("newUi.addItem.noCate"),value:""}],e=this.payload.catalogue.filter((function(t){return"category"==t.type}));return e.forEach((function(e){t.push({name:e.name,value:e.name})})),t},isEditable:function(){return"viewform"!==this.$route.name}},methods:{modalToggle:function(t){var e=document.getElementById("imageCroper");e.style.display=t,window.onclick=function(t){t.target==e&&(e.style.display="none")}},additem:function(t,e,a,i,s){var o=this.$store.state.currentForm.maxlength;if(o){var n=this.$store.state.currentForm.maxlength+1;o=n,this.$store.dispatch("setMaxLength",n)}else{for(var c=0;c<this.$store.state.forms.length;c++){var l=this.$store.state.forms[c];console.log("form",l),l.link.split("/")[3]==this.$store.state.currentForm.pos&&(this.$store.state.forms[c].image="https://firebasestorage.googleapis.com/v0/b/gupshup-gipforms.appspot.com/o/files%2Flogo.png?alt=media&token=56547b3f-f39c-48cf-840f-e4bc085422a5")}o=1,this.$store.dispatch("setMaxLength",1)}this.$store.state.currentForm.catalogue.push({pos:o,type:"item",name:t,desc:e,imageurl:s,price:a,qtty:0,category:i}),r["a"].currentRoute.fullPath=="/admin/editform/"+this.$store.state.currentForm.pos||r["a"].currentRoute.fullPath=="/admin/additemstoform/"+this.$store.state.currentForm.pos?this.saveCurrentForm():(console.log("else"),this.saveCurrentFormMore())},additem_more:function(t,e,a,i,s){var r=this.$store.state.currentForm.maxlength;if(r){var o=this.$store.state.currentForm.maxlength+1;r=o,this.$store.dispatch("setMaxLength",o)}else{for(var n=0;n<this.$store.state.forms.length;n++){var c=this.$store.state.forms[n];c.link.split("/")[3]==this.$store.state.currentForm.pos&&(this.$store.state.forms[n].image="https://firebasestorage.googleapis.com/v0/b/gupshup-gipforms.appspot.com/o/files%2Flogo.png?alt=media&token=56547b3f-f39c-48cf-840f-e4bc085422a5")}r=1,this.$store.dispatch("setMaxLength",1)}this.$store.state.currentForm.catalogue.push({pos:r,type:"item",name:t,desc:e,imageurl:s,price:a,qtty:0,category:i})},add_product_more:function(t,e,a,i,s){console.log("add_product_more");var r=!1;if(i==c["a"].t("newUi.addItem.noCate")&&(i=""),null==t||0==t||""==t)alert(c["a"].t("alertText.itemNameAlert"));else if(t.length>100)alert(c["a"].t("alertText.itemMax"));else if(parseFloat(a)<0||!parseFloat(a)||""==a)alert(c["a"].t("alertText.validatePriceAlert"));else if(parseFloat(a)>999999)alert(c["a"].t("alertText.pricelimit"));else{var o=!1,n=a.split(".")[1];n&&n.length>2&&(o=!0),this.$store.state.currentForm.catalogue.map((function(e){"item"==e.type&&e.name.toLowerCase().replace(/ /g,"")===t.toLowerCase().replace(/ /g,"")&&(r=!0)})),r?alert(c["a"].t("alertText.productExist")):o?alert(c["a"].t("alertText.roundOffDigits")):(this.sheet=!1,this.additem_more(t,e,a,i,s),this.saveCurrentFormMore(),this.set_product_item_null(),this.sheet=!0)}},add_product_submit:function(t,e,a,i,s){var r=!1;if(i==c["a"].t("newUi.addItem.noCate")&&(i=""),null==t||0==t||""==t)alert(c["a"].t("alertText.itemNameAlert"));else if(t.length>100)alert(c["a"].t("alertText.itemMax"));else if(parseFloat(a)<0||!parseFloat(a)||""==a)alert(c["a"].t("alertText.validatePriceAlert"));else if(parseFloat(a)>999999)alert(c["a"].t("alertText.pricelimit"));else{var o=!1,n=a.split(".")[1];n&&n.length>2&&(o=!0),this.$store.state.currentForm.catalogue.map((function(e){"item"==e.type&&e.name.toLowerCase().replace(/ /g,"")===t.toLowerCase().replace(/ /g,"")&&(r=!0)})),r?alert(c["a"].t("alertText.productExist")):o?alert(c["a"].t("alertText.roundOffDigits")):(this.sheet=!1,this.additem(t,e,a,i,s))}},checkLength:function(t){t.length>100?(this.addproduct_name=t.slice(0,-1),alert(c["a"].t("alertText.itemMax")),t=t.slice(0,-1)):t.length<=100&&(this.addproduct_name=t)},set_product_item_null:function(){this.addproduct_desc="",this.addproduct_image="",this.addproduct_name="",this.addproduct_price="",this.data_saved=!1},submit:function(){this.sheet=!0},cancel:function(){r["a"].push("/admin/viewform/"+this.$store.state.currentForm.pos)},saveCurrentForm:function(){var t=this;if(null==this.addproduct_name||0==this.addproduct_name.length||""==this.addproduct_name)alert(c["a"].t("alertText.validateNameAlert",{type:"item"}));else if(parseFloat(this.addproduct_price)<0||!parseFloat(this.addproduct_price)||""==this.addproduct_price)alert(c["a"].t("alertText.validatePriceAlert"));else{this.$store.dispatch("setOverlay",!0),this.set_overlay=!0;var e=this;console.log("Call 1"),Object(o["m"])(this.$store.state.profile.uid,this.$store.state.currentFormPos,JSON.stringify(this.$store.state.currentForm),(function(t){t?(alert(c["a"].t("alertText.saveFailed")),n["a"].dispatch("setOverlay",!1),e.set_overlay=!1):(n["a"].dispatch("setOverlay",!1),e.set_overlay=!1)})).then((function(e){Object(o["p"])((function(t){console.log(t)}),t.$store.state),t.data_saved=!0;var a=t;(r["a"].currentRoute.fullPath=="/admin/editform/"+a.$store.state.currentForm.pos||r["a"].currentRoute.fullPath=="/admin/additemstoform/"+a.$store.state.currentForm.pos)&&r["a"].push("/admin/viewform/"+a.$store.state.currentForm.pos)})).catch((function(t){console.log("SSI Error")}))}console.log("Call ")},saveCurrentFormMore:function(){if(null==this.addproduct_name||0==this.addproduct_name.length||""==this.addproduct_name)alert(c["a"].t("alertText.validateNameAlert",{type:"item"}));else if(parseFloat(this.addproduct_price)<0||!parseFloat(this.addproduct_price)||""==this.addproduct_price)alert(c["a"].t("alertText.validatePriceAlert"));else{this.$store.dispatch("setOverlay",!0),this.set_overlay=!0;var t=this;Object(o["m"])(this.$store.state.profile.uid,this.$store.state.currentFormPos,JSON.stringify(this.$store.state.currentForm),(function(e){e?(alert(c["a"].t("alertText.saveFailed")),n["a"].dispatch("setOverlay",!1),t.set_overlay=!1):(n["a"].dispatch("setOverlay",!1),t.set_overlay=!1)})),Object(o["p"])((function(t){console.log(t)}),this.$store.state)}},crop:function(){var t={type:"base64",format:"jpeg",circle:!1},e=this;e.set_overlay=!0;var a=this.$store.state.profile.uid;this.$refs.croppieRef.result(t).then((function(t){e.cropped=t,e.modalToggle("none"),Object(o["n"])(a,(new Date).getTime(),t,(function(t,a){t?alert(c["a"].t("alertText.uploadFail")):e.addproduct_image=a,setTimeout((function(){e.set_overlay=!1}),1500)}))}))},crop1:function(){var t=this,e={format:"jpeg",circle:!0};this.$refs.croppieRef.result(e,(function(e){t.cropped=e}))},result:function(t){this.cropped=t},update:function(t){this.d=t},rotate:function(t){this.$refs.croppieRef.rotate(t)},uploading:function(t){var e=this,a=document.createElement("input"),i=this;return a.setAttribute("type","file"),a.addEventListener("change",(function(){("mobile"==t||"desktop"==t)&&e.modalToggle("block"),setTimeout((function(){i.$refs.croppieRef.bind({url:window.URL.createObjectURL(a.files[0]),zoom:.1})}),200)})),a.click(),!1}}},d=l,u=(a("9be8"),a("2877")),p=Object(u["a"])(d,i,s,!1,null,null,null);e["a"]=p.exports},ff7e:function(t,e,a){}}]);
//# sourceMappingURL=chunk-7a82e837.6a451af6.js.map